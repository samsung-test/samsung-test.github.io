<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="icon"  href="/favicon.ico" />
<title>Kernel</title>
<meta name="description" content=""/>
<meta name="keywords" content=""/>
<base id="baseURL" href="/draft/" />
<meta id="docsVersion" content="draft" />
<meta name="last-modified" content="2019-09-29 00:30:23 +0530" />
<meta http-equiv="cache-control" content="max-age=24" />
<meta http-equiv="cache-control" content="no-cache" />
<meta http-equiv="Cache-Control" content="no-store" />
<meta http-equiv="pragma" content="no-cache" />
<meta http-equiv="Expires" content="600" />

<link rel="stylesheet" href="/vendor/bootstrap/css/bootstrap.min.css">
<link rel="stylesheet" href="/css/carousel.css?v=29092019">
<link rel="stylesheet" href="/css/custom.css?v=29092019">
<link rel="stylesheet" href="/css/responsive.css?v=29092019">
<link rel="stylesheet" href="/css/main.css?v=29092019">

</head>
<body>
    <div class="scroller">
        <div class="navbar-wrapper">
    <nav class="navbar navbar-default navbar-static-top navbar-fixed-top">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand active open" href="/">
                    <span class="brand-tizen"><img src="/images/logo.png" alt="logo"></span>
                    <span class="brand-docs">Docs</span>
                </a>
            </div>

            <ul id="navbar" class="nav navbar-nav navbar-right navbar-collapse collapse">
                <!--li><a href="what-is-tizen/overview/tizen">What is Tizen</a></li-->
                <li><a href="platform/about/tizen-open-source-overview">Platform</a></li>
                <li><a href="application/">Application</a></li>
                <li><a href="iot/">IoT</a></li>
                <!--li><a href="https://developer.tizen.org" target="_blank">Application</a></li-->
                <li><a href="https://developer.tizen.org/development/tizen-studio/download" target="_blank">Download</a>
                </li>
                <li class="navbar-divisor"></li>
                <li class="search">
                    <a id="gnb_search_btn" href="#">
                        <div class="search-btn"></div>
                    </a>
                    <form method="GET" id="gnb_search_box" class="searchbox" action="/search.php" name="searchbox">
                        <input class="form-control" type="text" name="q" placeholder="Search ..." required="true">
                        <a href="#" onclick="if (document.forms['searchbox'].q.value !== '') 
                                                $(this).closest('form').submit()
                                                else
                                                    document.getElementById('gnb_search_box').addEventListener('click', function(event){
                                                    event.preventDefault()
                                                });
                                                "><img src="/images/ic_search_ac.png"></a>
                    </form>
                </li>
                <li>
                    <div id="widgetVersionSwitcher"></div>
                </li>

            </ul>
        </div>
    </nav>
</div>
        <div class="landing-tizen">
            <div class="container">
                <div class="row">
                    <ul class="nav side-menu">
    
    
    
    
    

    <li class="">
        <a href="platform/about/work-flow" class="hasChild">
            Overview 
            <span class="arrow"></span>
        </a>
        
        <ul class="td-tocs depth-1">
            
            <li>
                
                
                <a href="platform/about/work-flow" class="">
                  Development Workflow
                </a>
                
            </li>
            
            <li>
                
                
                <a href="platform/about/git-repo-structure" class="">
                  Git Repository Structure
                </a>
                
            </li>
            
            <li>
                
                
                <a href="platform/about/conventions" class="">
                  Typographic Conventions
                </a>
                
            </li>
            
        </ul>
        
    </li>

    
    
    

    <li class="">
        <a href="platform/developing/installing" class="hasChild">
            Developing 
            <span class="arrow"></span>
        </a>
        
        <ul class="td-tocs depth-1">
            
            <li>
                
                
                <a href="platform/developing/installing" class="">
                  Installing Development Tools
                </a>
                
            </li>
            
            <li>
                
                
                <a href="platform/developing/setting-up" class="">
                  Setting up Development Environment
                </a>
                
            </li>
            
            <li>
                
                
                <a href="platform/developing/cloning" class="">
                  Cloning Tizen Source Files
                </a>
                
            </li>
            
            <li>
                
                
                <a href="platform/developing/building" class="">
                  Building Packages Locally with GBS
                </a>
                
            </li>
            
            <li>
                
                
                <a href="platform/developing/building-all" class="">
                  Building All Packages Locally with GBS
                </a>
                
            </li>
            
            <li>
                
                
                <a href="platform/developing/contributing" class="">
                  Contributing Code to Tizen
                </a>
                
            </li>
            
            <li>
                
                
                <a href="platform/developing/creating" class="">
                  Creating Tizen Images with MIC
                </a>
                
            </li>
            
            <li>
                
                
                <a href="platform/developing/flashing" class="">
                  Flashing an Image to Device
                </a>
                
            </li>
            
            <li>
                
                
                <a href="platform/developing/tips" class="">
                  Development Tips
                </a>
                
            </li>
            
        </ul>
        
    </li>

    
    
    

    <li class="open">
        <a href="platform/porting/overview" class="hasChild">
            Porting 
            <span class="arrow"></span>
        </a>
        
        <ul class="td-tocs depth-1">
            
            <li>
                
                
                <a href="platform/porting/overview" class="">
                  Overview
                </a>
                
            </li>
            
            <li>
                
                
                <a href="platform/porting/kernel" class="">
                  Kernel
                </a>
                
            </li>
            
            <li>
                
                
                <a href="platform/porting/system" class="">
                  System
                </a>
                
            </li>
            
            <li>
                
                
                <a href="platform/porting/graphics-and-ui" class="">
                  Graphics and UI
                </a>
                
            </li>
            
        </ul>
        
    </li>

    
    
    

    <li class="">
        <a href="platform/reference/gerrit-usage" class="hasChild">
            Reference 
            <span class="arrow"></span>
        </a>
        
        <ul class="td-tocs depth-1">
            
            <li>
                
                
                <a href="platform/reference/gerrit-usage" class="">
                  Gerrit
                </a>
                
            </li>
            
            <li>
                
                <!--<div class="">-->
                
                <a href="platform/reference/gbs/gbs-overview"
                    class="hasChild ">
                    Git Build System (GBS)
                    <span class="arrow"></span>
                </a>
                <ul class="td-tocs depth-2">
                    
                    <li>
                        
                        <a href="platform/reference/gbs/gbs-overview"
                            class="">
                            Overview
                        </a>
                    </li>
                    
                    <li>
                        
                        <a href="platform/reference/gbs/gbs.conf"
                            class="">
                            GBS Configuration
                        </a>
                    </li>
                    
                    <li>
                        
                        <a href="platform/reference/gbs/gbs-maintenance-models"
                            class="">
                            GBS Maintenance Models
                        </a>
                    </li>
                    
                </ul>
                <!--</div>-->
                
            </li>
            
            <li>
                
                <!--<div class="">-->
                
                <a href="platform/reference/mic/mic-overview"
                    class="hasChild ">
                    MIC Image Creator
                    <span class="arrow"></span>
                </a>
                <ul class="td-tocs depth-2">
                    
                    <li>
                        
                        <a href="platform/reference/mic/mic-overview"
                            class="">
                            Overview
                        </a>
                    </li>
                    
                    <li>
                        
                        <a href="platform/reference/mic/mic-customize-image"
                            class="">
                            Customizing Images
                        </a>
                    </li>
                    
                    <li>
                        
                        <a href="platform/reference/mic/mic-reference"
                            class="">
                            MIC Reference
                        </a>
                    </li>
                    
                </ul>
                <!--</div>-->
                
            </li>
            
        </ul>
        
    </li>

    
    
</ul>
<script>
    $("a[href$='/iot/porting/kernel.html']").addClass("sidebar-link-selected");
</script>
                    <div class="body" id="printableArea">
                        <div class="widgetLatestVersionNotification"></div>
                        <h1 id="kernel">Kernel</h1>

<p>For information on how to set up the Tizen OS development environment, see <a href="../developing/setting-up.md">Setting up the Development Environment</a>.</p>

<h2 id="kernel-build">Kernel Build</h2>

<p>To build the Tizen kernel for the TM1 board:</p>

<ol>
  <li>Install and set up cross-compile tools on your system if the host has a different architecture than the target (such as x86).</li>
  <li>Prepare the kernel source code for TM1 from <code class="highlighter-rouge">profile/mobile/platform/kernel/linux-3.10-sc7730</code>:
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git: https://review.tizen.org/git/?p=profile/mobile/platform/kernel/linux-3.10-sc7730.git
branch: accepted/tizen_mobile
</code></pre></div>    </div>
  </li>
  <li>If your kernel source has been used to create binaries for another architecture, start by cleaning them up.</li>
  <li>Set up the <code class="highlighter-rouge">.config</code> file for TM1:
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ make ARCH=arm tizen_tm1_defconfig
</code></pre></div>    </div>
  </li>
  <li>After reconfiguring your needs (such as <code class="highlighter-rouge">make ARCH=arm menuconfig</code>) or using the stock configuration (no modifications), build it:
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ make ARCH=arm zImage
$ make ARCH=arm dtbs
</code></pre></div>    </div>
  </li>
  <li>Create a <code class="highlighter-rouge">devicetree</code> and <code class="highlighter-rouge">zImage</code> merged image with the image tools:
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ scripts/sprd_dtbtool.sh -o arch/arm/boot/merged-dtb -p scripts/dtc/ -v arch/arm/boot/dts/
$ scripts/sprd_mkdzimage.sh -o arch/arm/boot/dzImage -k arch/arm/boot/zImage -d arch/arm/boot/merged-dtb
</code></pre></div>    </div>
  </li>
  <li>Build and make the kernel module image as well. Note that you may need to do sudo first to let <code class="highlighter-rouge">sudo -n</code> work in the script:
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ sudo ls
$ scripts/mkmodimg.sh
</code></pre></div>    </div>
  </li>
  <li>Make a <code class="highlighter-rouge">.tar</code> archive from <code class="highlighter-rouge">dzImage</code> and <code class="highlighter-rouge">modules.img</code>. You can make your own <code class="highlighter-rouge">.tar</code> file from the 2 files:
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ tar cf FILENAME_YOU_WANT.tar -C arch/arm/boot dzImage -C ../../../usr/tmp-mod modules.img
</code></pre></div>    </div>
  </li>
  <li>Send the <code class="highlighter-rouge">.tar</code> image to the target using <code class="highlighter-rouge">lthor</code>:
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ lthor FILENAME_YOU_WANT.tar
</code></pre></div>    </div>
  </li>
</ol>

<p>For information on how to create an image using MIC, see <a href="../reference/mic/mic-overview.md">MIC Image Creator</a>.</p>

<h2 id="tizen-bootup-overview">Tizen Bootup Overview</h2>

<p>This section provides a brief overview of the typical booting sequence, starting from the boot loader to the kernel and the platform.</p>

<p><strong>Figure: Tizen bootup sequence</strong></p>

<p><img src="media/800px-boot-1.png" alt="Tizen bootup sequence" /></p>

<p>The Tizen bootup process is the same as any other <a href="https://wiki.tizen.org/Linux">Linux</a> kernel. Make sure that the correct machine ID and the boot arguments are passed from the boot loader.</p>

<p>After mounting the initial RAM disk image, <code class="highlighter-rouge">initramfs</code> hands over control to <code class="highlighter-rouge">systemd</code> as the Tizen platform system manager daemon. From this point, <code class="highlighter-rouge">systemd</code> is responsible for probing all remaining hardware, mounting all necessary file systems, and spawning all configured services. The system bootup process is split up into discrete steps. To synchronize point during start-up, target units (files whose names end in <code class="highlighter-rouge">.target</code>) are used for grouping units. The bootup process is highly parallelized in each target so that the order in which specific target units are reached is not determined. The <code class="highlighter-rouge">system-plugin-slp</code> is an OAL plugin for configuration settings, such as the mount point (<code class="highlighter-rouge">/etc/fstab</code>).</p>

<p>The following figure shows the early boot sequence after starting the kernel.</p>

<p><strong>Figure: Early boot sequence</strong></p>

<p><img src="media/706px-boot-2.png" alt="Early boot sequence" /></p>

<ul>
  <li>
    <p><code class="highlighter-rouge">sysinit.target</code></p>

    <p>Special target unit for early boot-up scripts. It has dependencies on necessary services and targets, such as <code class="highlighter-rouge">local-fs.target</code>. At this point, most of the file systems, such as <code class="highlighter-rouge">/opt</code>, <code class="highlighter-rouge">/tmp</code>, and <code class="highlighter-rouge">/media</code>, are mounted and the <code class="highlighter-rouge">systemd</code>-related daemons, such as <code class="highlighter-rouge">systemd-journald</code>, are launched.</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">basic.target</code></p>

    <p>Special target unit for basic bootup. At this point, all necessary initialization for general purpose daemons, such as mount points, sockets, timers, and path units, is completed. Tizen-specific services (such as <code class="highlighter-rouge">vconf-setup</code> and <code class="highlighter-rouge">tizen-debug-level</code>) are also executed.</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">bootmode.target</code></p>

    <p>Special target unit for selecting the boot mode. If the kernel boot parameter (<code class="highlighter-rouge">/proc/cmdline</code>) has the <code class="highlighter-rouge">charger_detect_boot</code> option passed by a boot loader, such as <code class="highlighter-rouge">uboot</code>, the platform boots up in charging mode. In this mode, the system enters the low power mode and charges the battery. If the <code class="highlighter-rouge">charger_detect_boot</code> option is not included as a kernel boot parameter, a normal boot is started.</p>
  </li>
</ul>

<p>The following figure shows the overview of normal booting sequence in Tizen platform.</p>

<p><strong>Figure: Tizen platform boot sequence</strong></p>

<p><img src="media/710px-boot-3.png" alt="Tizen platform boot sequence" /></p>

<ul>
  <li>
    <p><code class="highlighter-rouge">multi-user.target</code></p>

    <p>Special target unit for setting up a multi-user system with non-graphical support. On the Tizen platform, this target is used for launching platform infrastructure daemons, such as <code class="highlighter-rouge">dbus</code> (system session), power manager, GPS manager, telephony daemon, WRT (Web Run Time) security daemon, and the media server. Some <code class="highlighter-rouge">systemd</code>-related daemons (such as <code class="highlighter-rouge">systemd-logind</code>) are also started in this phase.</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">graphical.target</code></p>

    <p>Special target unit for setting up a graphical environment. Some important daemons (such as the access control and OMA DS agent servers) that must have root permission are launched at this point. The Tizen platform uses the <code class="highlighter-rouge">systemd</code> user session for App privilege daemons. Some daemons related to the graphics system, such as Enlightenment (window manager), are launched with the App privilege in this phase. The Tizen platform has its special target for middleware and mobile service: <code class="highlighter-rouge">tizen-middleware.target</code> starts the platform service daemons, such as calendar, contacts, email, message, sound, and download provider. <code class="highlighter-rouge">tizen-mobile-session.target</code> starts some service daemons related with the mobile session.</p>
  </li>
</ul>

<h2 id="bsp-customization">BSP Customization</h2>

<p>This section covers the basic configuration, setup, and build procedure required for building the boot loader and the kernel image for <a href="https://wiki.tizen.org/ARM">ARM</a>.</p>

<h3 id="boot-loader">Boot Loader</h3>

<p>The boot loader is a small piece of software that is needed to perform the basic hardware and peripheral initialization and load the kernel and proper device tree binary for the device to RAM. For the Tizen platform, the boot loader comes in 2 parts, the primary boot loader and the secondary boot loader. The primary boot loader is proprietary, and the secondary boot loader is the open source <code class="highlighter-rouge">u-boot</code>, customized for the Tizen platform.</p>

<p>If your platform is already loaded with the compatible boot loader software, you can skip this section and move directly to the kernel section.</p>

<h4 id="boot-loader-setup-and-build">Boot Loader Setup and Build</h4>

<p>To build the Tizen TM1 boot loader:</p>

<ol>
  <li>Install and set up cross-compile tools on your system if the host has a different architecture than the target (such as x86).</li>
  <li>Start with cleaning up the <code class="highlighter-rouge">u-boot-tm1</code> source. Download the source from the <a href="https://review.tizen.org/git/?p=profile/mobile/platform/kernel/u-boot-tm1.git;a=summary">u-boot-tm1</a> repository.
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ make distclean`
</code></pre></div>    </div>
  </li>
  <li>Set up the configuration for TM1.</li>
  <li>Build <code class="highlighter-rouge">u-boot</code>:
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ make ARCH=arm
</code></pre></div>    </div>
  </li>
  <li>Once the build is successful, the <code class="highlighter-rouge">u-boot.bin</code> file is created. (This step is for preventing from flashing the other <code class="highlighter-rouge">u-boot.bin</code> file.)
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ tools/mkimage_signed.sh u-boot.bin "tizen_tm1"
</code></pre></div>    </div>

    <p>After the script is run, the <code class="highlighter-rouge">u-boot-mmc.bin</code> file is created.</p>
  </li>
  <li>Create a boot loader tarball to download the <code class="highlighter-rouge">u-boot</code> binary onto the target.
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ tar cvf bootloader.tar u-boot-mmc.bin`
</code></pre></div>    </div>
    <blockquote>
      <p><strong>Note</strong></p>

      <p>Be careful when modifying the boot loader: incorrect configuration can damage the device permanently.</p>
    </blockquote>
  </li>
</ol>

<h4 id="boot-loader-kernel-parameters">Boot Loader Kernel Parameters</h4>

<p>Command line parameters, such as the following example, can be passed from the boot loader to the <a href="https://wiki.tizen.org/Linux">Linux</a> kernel:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>console=ttyS1,115200n8
mem=1024M
loglevel=1
</code></pre></div></div>

<h3 id="kernel-1">Kernel</h3>

<p>The kernel is the operating system that drives the platform. In this case, the kernel refers to the open source <a href="https://wiki.tizen.org/Linux">Linux</a> kernel that is customized for the Tizen platform. The following section gives a brief overview about the Tizen kernel setup, configuration, and the build procedure for building a Linux kernel for your Tizen platform. The output of the kernel binary is a uImage that is suitable only for a <code class="highlighter-rouge">u-boot</code> boot loader. If you have chosen a secure booting configuration in your boot loader, this uImage must be compatible with your boot loader.</p>

<h4 id="kernel-configurations">Kernel Configurations</h4>

<p>To download the Tizen kernel source package, see <a href="https://wiki.tizen.org/Porting_Guide#Getting_Source_Code.26Build">Getting Source Code and Build</a>. To set up or modify your kernel configuration, use the appropriate <code class="highlighter-rouge">defconfig</code> file from <code class="highlighter-rouge">arch/arm/configs/</code> (<a href="https://wiki.tizen.org/ARM">ARM</a> CPU).</p>

<p>For more information on the Tizen kernel configuration and kernel building, see <a href="https://wiki.tizen.org/Porting_Guide#Kernel_Build">Kernel Build</a>.</p>

<blockquote>
  <p><strong>Note</strong></p>

  <p>Tizen uses <code class="highlighter-rouge">INOTIFY</code> instead of <code class="highlighter-rouge">DNOTIFY</code>. You must disable <code class="highlighter-rouge">DNOTIFY</code> from your kernel configuration.</p>
</blockquote>

<p>If you want to use <code class="highlighter-rouge">initramfs</code>, you can use these configurations:</p>

<ul>
  <li><code class="highlighter-rouge">CONFIG_INITRAMFS_SOURCE</code></li>
  <li><code class="highlighter-rouge">CONFIG_INITRAMFS_ROOT_UID</code></li>
  <li><code class="highlighter-rouge">CONFIG_INITRAMFS_ROOT_GID</code></li>
  <li><code class="highlighter-rouge">CONFIG_INITRAMFS_COMPRESSION_NONE/GZIP/BZIP2/LZNA/LZO</code></li>
</ul>

<h2 id="tizen-file-system">Tizen File System</h2>

<h3 id="virtual-filesystem-vfs">Virtual Filesystem (VFS)</h3>

<p>The virtual file system (VFS) is an abstraction layer on top of a physical file system (such as ext2, jfs, and ext4). The VFS provides a switching layer between the SCI (system call interface) and the file systems supported by the kernel, as shown in the following figure.</p>

<p><strong>Figure: Tizen file system</strong></p>

<p><img src="media/800px-filesystem.png" alt="Tizen file system" /></p>

<p>At the top of the VFS is a common API abstraction of functions, such as open, close, read, and write. At the bottom of the VFS are the file system abstractions that define how the upper-layer functions are implemented with respect to a specific file system.</p>

<p>Below the file system layer is the page cache, which provides a common set of functions to the file system layer (independent of any particular file system). This caching layer optimizes access to the physical devices by keeping data around for a short time (or speculatively reading ahead, so that the data is available when needed). Below the page cache are the device drivers, which implement the interface for the particular physical device.</p>

<h4 id="tizen-partition-layout">Tizen Partition Layout</h4>

<p>The following description is an example of the Tizen partition layout. The product vendor can modify the sequence or partition layout for their devices, as needed.</p>

<p><strong>Figure: Tizen partition layout</strong></p>

<p><img src="media/800px-partitionlayout.png" alt="Tizen partition layout" /></p>

<p>The <code class="highlighter-rouge">boot</code> partition is mounted in the <code class="highlighter-rouge">/boot</code> directory of <code class="highlighter-rouge">rootfs</code>. Here <code class="highlighter-rouge">s-boot</code>, <code class="highlighter-rouge">u-boot</code>, and the kernel image are saved as a file format, provided as <code class="highlighter-rouge">system.tar</code>.</p>

<ol>
  <li>The CSA (Configuration Saved Area) partition is for non-volatile data, such as the calibration value of modem.</li>
  <li>The boot partition includes the kernel image, boot loader image, and modem image. Additionally, it can have device driver modules.</li>
  <li>Third partition is reserved for the future.</li>
  <li>The CSC (Customer Software Configuration) partition is mounted in the <code class="highlighter-rouge">/mnt/csc</code> directory. It can store the customer’s software configuration, such as the default language and time zone.</li>
  <li>The <code class="highlighter-rouge">platform</code> partition is mounted on the root directory. It contains fundamental frameworks for Tizen and some general utility for Linux. It can be provided as a <code class="highlighter-rouge">platform.img</code> file.</li>
  <li>The <code class="highlighter-rouge">data</code> partition is mounted in the <code class="highlighter-rouge">/opt</code> directory and it includes applications, libraries of applications, and the platform database. It can be provided as a <code class="highlighter-rouge">data.img</code> file.</li>
  <li>The UMS (USB Mass Storage) partition is mounted in the <code class="highlighter-rouge">/opt/media</code> directory and it includes default (media) contents. It can be provided as <code class="highlighter-rouge">ums.img</code>.</li>
</ol>

<p>Each image file, <code class="highlighter-rouge">platform.img</code>, <code class="highlighter-rouge">data.img</code>, and <code class="highlighter-rouge">ums.img</code> can be zipped for downloading, for example, <code class="highlighter-rouge">&lt;IMAGE_NAME&gt;.tar.gz</code>.</p>

<p>Each partition has the hierarchy illustrated in the following figure.</p>

<p><strong>Figure: Tizen file system hierarchy</strong></p>

<p><img src="media/800px-filesystemhierarchy.png" alt="Tizen file system hierarchy" /></p>

<h4 id="supported-file-systems">Supported File Systems</h4>

<p>Tizen supports the Extended 4 (ext4) file system. The Tizen kernel has to be compiled to enable support for other file systems, such as JFS, XFS, BTRFS, and Reiserfs.</p>

<p>The Extended 4 (ext4) file system is configured as a default file system for Tizen.</p>

<h4 id="configuration">Configuration</h4>

<p>The following ext4 configuration options can be enabled in the kernel configuration file:</p>

<ul>
  <li><code class="highlighter-rouge">CONFIG_EXT4_FS=y</code></li>
  <li><code class="highlighter-rouge">CONFIG_EXT4_FS_XATTR=y</code></li>
  <li><code class="highlighter-rouge">CONFIG_EXT4_USE_FOR_EXT23=y</code></li>
  <li><code class="highlighter-rouge">CONFIG_EXT4_FS_SECURITY=y</code></li>
</ul>

<h3 id="mmcsdsdio">MMC/SD/SDIO</h3>

<p>Tizen supports MultiMediaCard, Secure Digital, and Secure Digital I/O Support. The MMC driver is implemented on top of a host controller (such as the SDHCI controller driver) and supports MMC, SD, SD High Speed, and SDHC cards.</p>

<p>If MMC is your booting device, read-write APIs, partition management, and flashing must be provided at the boot loader.</p>

<p><strong>Figure: Tizen MMC architecture</strong></p>

<p><img src="media/800px-mmc.png" alt="Tizen MMC architecture" /></p>

<p>The MMC/SD/SDIO driver supports the following features:</p>

<ul>
  <li>Driver is built in-kernel</li>
  <li>MMC cards, including high speed cards</li>
  <li>SD cards, including SD high speed and SDHC cards</li>
</ul>

<p>The MMC subsystem code structure in the kernel is located at <code class="highlighter-rouge">/driver/mmc</code> and divided into 3 parts:</p>

<ul>
  <li>MMC block device driver located at <code class="highlighter-rouge">/driver/mmc/card/</code></li>
  <li>Protocol stack for MMC, SD, SDIO located at <code class="highlighter-rouge">/driver/mmc/core/</code></li>
  <li>Host controller driver located at <code class="highlighter-rouge">/driver/mmc/host/</code></li>
</ul>

<h4 id="hotplug-mmc-event-handling">Hotplug MMC Event Handling</h4>

<p>Based on the hotplug event handling, a notification is passed to <code class="highlighter-rouge">deviced</code> for device status changes. It detects, mounts, and monitors the status of the SD card.</p>

<h4 id="reference">Reference</h4>

<p>The SDHCI controller is supported in the MMC/SD/SDIO interface. The Mobile Storage Host controller is only supported in the MMC interface.</p>

<ul>
  <li>
    <p><strong>Kernel configuration for MMC Interface</strong></p>

    <p><code class="highlighter-rouge">CONFIG_MMC_BLOCK</code>, <code class="highlighter-rouge">CONFIG_MMC</code>, <code class="highlighter-rouge">CONFIG_MSHCI</code> (for Mobile Storage Interface enable)
<code class="highlighter-rouge">sys interface: /dev/mmcblk0pX</code></p>
  </li>
  <li>
    <p><strong>Kernel configuration for SD/SDIO Interface</strong></p>

    <p><code class="highlighter-rouge">CONFIG_MMC_BLOCK</code>, <code class="highlighter-rouge">CONFIG_MMC</code>
<code class="highlighter-rouge">CONFIG_MMC_SDHCI</code> (for SDHCI host Interface enable)
<code class="highlighter-rouge">CONFIG_MMC_SDHCI_S3C</code> (for Samsung SoC)
<code class="highlighter-rouge">sys interface: /dev/mmcblk1pX</code></p>
  </li>
</ul>

<p>The <code class="highlighter-rouge">X</code> denotes the MMC partition number. Details of the partition mount point for Tizen are covered under <a href="#tizen-partition-layout">Tizen Partition Layout</a>.</p>

                        <button class="print-btn hidden-print" onclick="printDiv('printableArea')">PRINT</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="footer clearfix">
  <div class="copyright">
    © 2019 Tizen Project, a <a href="http://www.linuxfoundation.org/">Linux Foundation</a> Project. All Rights Reserved.
    Linux is a registered trademark of Linus Torvalds.<br>
    Tizen is a registered trademark of The Linux Foundation. * Other names and brands may be claimed as the property of
    others.<br>
    Except as noted, this content is licensed under Creative Commons Attribution 3.0. For details, see the <a
      href="https://www.tizen.org/content-license">Content License.</a><br>
  </div>
  <div class="family-sites">
    <a href="https://developer.tizen.org/">Developers</a>
    <div class="divider"></div>
    <a href="https://docs.tizen.org">Docs</a>
    <div class="divider"></div>
    <a href="https://dashboard.tizen.org">Dashboard</a>
    <div class="divider"></div>
    <a href="https://craftroom.tizen.org/">Craftroom</a>
  </div>
  <div class="outer-links">
    <div class="item">
      <a href="https://twitter.com/TizenProject"><img src="/images/ic_footer_twitter.png">Twitter</a>
    </div>
    <div class="item">
      <a href="http://www.facebook.com/pages/Tizen-Project/179577455452943?ref=ts"><img
          src="/images/ic_footer_facebook.png">Facebook</a>
    </div>
    <div class="item">
      <a href="https://bugs.tizen.org"><img src="/images/ic_footer_bug.png">Bug Tracker</a>
    </div>
    <div class="item">
      <a href="http://lists.tizen.org"><img src="/images/ic_footer_mailing.png">Mailing Lists</a>
    </div>
    <div class="item">
      <a href="http://www.tizenstore.com"><img src="/images/ic_footer_tizenstore.png">Tizen Store</a>
    </div>
  </div>
</div>
    </div>
    <script type="text/javascript" src="/vendor/jquery/jquery-3.2.1.min.js"></script>
<script type="text/javascript" src="/vendor/bootstrap/js/bootstrap.min.js"></script>
<script type="text/javascript" src="/js/common.js?v=29092019"></script>
<script type="text/javascript" src="/js/handlebars-v4.0.11.js?v=29092019"></script>
<script type="text/javascript" src="/js/widgets-data.js?v=29092019"></script>
<script type="text/javascript" src="/js/widgets.js?v=29092019"></script>
<script type="text/javascript" src="/js/toc.js"></script>
    <div id="templates"></div>    
</body>

</html>