<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="icon"  href="/favicon.ico" />
<title>In-app Purchase Programming Guide</title>
<meta name="description" content="Tizen Studio"/>
<meta name="keywords" content="Tizen, OS, Open Source"/>
<base id="baseURL" href="/latest/" />
<meta id="docsVersion" content="1.1" />
<meta name="last-modified" content="2019-12-08 23:50:07 +0530" />
<meta http-equiv="cache-control" content="max-age=24" />
<meta http-equiv="cache-control" content="no-cache" />
<meta http-equiv="Cache-Control" content="no-store" />
<meta http-equiv="pragma" content="no-cache" />
<meta http-equiv="Expires" content="600" />

<link rel="stylesheet" href="/css/font-awesome.min.css">
<link rel="stylesheet" href="/css/bootstrap.min.css">
<link rel="stylesheet" href="/css/pygments/perldoc.css">
<link rel="stylesheet" href="/css/style.css?v=08122019">
<link rel="stylesheet" href="/css/github.css?v=08122019">


</head>
<body class=" latestVersion">
	 <header>
    <div class="header">
        <nav class="nav-secondary-tabs affix" >
            <div class="container-fluid">
                <div class="navbar-collapse" aria-expanded="false" style="height: 1px;">
                    <div class="sidebar-toggle">
    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
    </button>
</div>
<div class="nav-container">
    <a class="logo" href="/" title="Tizen Documentation">
        Tizen
    </a>
    <div id="tabs">
        
        
        <ul class="tabs" id="jsTOCHorizontal">
            <li class="">
                <a href="design/">Design</a>
            </li>
            <li class="">
                <a href="application/">Development</a>
            </li>
            <li class="">
                <a href="iot/">IoT</a>
            </li>
            <li class="active">
                <a href="tizenstudio/setup/overview/">Tizen Studio</a>
            </li>
        </ul>
    </div>
    <div class="ctrl-right hidden-xs hidden-sm">
        <a href="javascript:void(0)" id="menu-toggle"><i class="fa fa-indent" aria-hidden="true"></i></a>
        <div class="widgetVersionSwitcher"></div>
    </div>
    <div class="search-form">
        <form action="search.html">
            <input class="search-field form-control ds-input st-search-input" value="" name="q" placeholder="Search the docs" type="search" autocomplete="off" spellcheck="false" dir="auto">
            <button type="submit" class="search-button">
                <i class="fa fa-search"></i>
            </button>
        </form>
    </div>
    
</div>

                </div>
            </div>
        </nav>
    </div>
</header>
    <div class="wrapper right-open">
		<div class="container-fluid">
			<div class="row">
				<div class="col-body">
					<main class="col-content content">
						<section class="section">
							<nav class="breadcrumbs bootstrap hidden-sm-down">
   <ol class="breadcrumb list-unstyled" vocab="http://schema.org/" typeof="BreadcrumbList">

       
          
      
      <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">
         <a property="item" typeof="WebPage" href="/latest/">
            <span property="name">Tizen Documentation</span>
            <meta property="position" content="1" />
         </a>
      </li>
       
          
      
      <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">
         <span property="name">In-app Purchase Programming Guide</span>
         <meta property="position" content="2" />
      </li>
      
   </ol>
</nav>



<!-- This is an example of CSS. Maybe you want to implement the css code into your main css file or modify it as you want -->
<style>
   nav.breadcrumbs.bootstrap {
      /* from Twitter Bootstrap 4 */
      /* If you already use Twitter, you do not need these css lines above, cause they already in Twitter Bootstrap */
      /* Additions: image integration */
   }

   nav.breadcrumbs.bootstrap ol {
      margin-left: 0
   }

   nav.breadcrumbs.bootstrap .breadcrumb {
      font-size: 1rem;
      padding: 0.75rem 1rem;
      margin-bottom: 1rem;
      list-style: none;
      background-color: #f1f2ed;
      border-radius: 0.25rem;
   }

   nav.breadcrumbs.bootstrap .breadcrumb::after {
      content: "";
      display: table;
      clear: both;
   }

   nav.breadcrumbs.bootstrap .breadcrumb-item {
      float: left;
   }

   nav.breadcrumbs.bootstrap .breadcrumb-item+.breadcrumb-item::before {
      display: inline-block;
      padding-right: 0.5rem;
      padding-left: 0.5rem;
      color: #818a91;
      content: "/";
   }

   nav.breadcrumbs.bootstrap .breadcrumb-item+.breadcrumb-item:hover::before {
      text-decoration: underline;
   }

   nav.breadcrumbs.bootstrap .breadcrumb-item+.breadcrumb-item:hover::before {
      text-decoration: none;
   }

   nav.breadcrumbs.bootstrap .breadcrumb-item-active {
      color: #818a91;
   }

   nav.breadcrumbs.bootstrap .breadcrumb .icon {
      display: inline-block;
   }

   nav.breadcrumbs.bootstrap .breadcrumb .icon svg {
      height: 0.8rem;
      width: 0.8rem;
   }
</style>

							<div class="widgetLatestVersionNotification"></div>
							<h1 id="in-app-purchase-programming-guide">In-app Purchase Programming Guide</h1>

<p>By selling items from within your application, you can get a large revenue. You can implement In-Application Purchases (IAP) in your application using the AppControl mechanism for Tizen native and Web applications.</p>

<p>You can use the IAP in the following scenarios, for example:</p>

<ul>
  <li>An application that enables additional features</li>
  <li>Any application that allows the user to remove ads</li>
  <li>An audio-book application that allows the user to purchase and download new books</li>
  <li>A game which offers new levels to play</li>
  <li>An RPG game that allows to buy virtual items</li>
</ul>

<h2 id="what-is-the-in-app-purchase-appcontrol-mechanism">What is the In-App Purchase AppControl Mechanism?</h2>

<p>To sell items inside your applications such as in-game coins, levels and others, you need to set servers up to communicate with billing server and user authentications server, and many other infra servers. In-App Purchase simply handles all those things for you. To use In-App Purchase, you need to prepare your applications for communicating with it. For example, with in-app purchase of items, your application finds the proper AppControl, starts the purchase method, and receives the result of the purchase in the method of the listener method. IAP shows dialogs in case of errors, communicates with the Tizen Stores server, and invokes the listener methods to return the result of the request.</p>

<p>This document explains the process of using the IAP. Read this document thoroughly before using the IAP.</p>

<h2 id="supported-item-types">Supported Item Types</h2>

<p>IAP supports the following item types:</p>

<p><strong>Table: Supported item types</strong></p>

<table>
  <thead>
    <tr>
      <th>Table</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Consumable</td>
      <td>If you purchase an item of this type and use it, it is consumed. These items can be repurchased.<br />Example: Consumable items, such as bullets in games.</td>
    </tr>
    <tr>
      <td>Non-consumable</td>
      <td>Once purchased, you can use an item of this type permanently. These items cannot be repurchased.<br />Example: Non-consumable items, including books, that do not need to be repurchased.</td>
    </tr>
  </tbody>
</table>

<h2 id="terms-and-abbreviations">Terms and Abbreviations</h2>

<p>The following table lists the terminology used in the context of IAP.</p>

<p><strong>Table: Terms and abbreviations</strong></p>

<table>
  <thead>
    <tr>
      <th>Term</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>IAP</strong></td>
      <td>In-App Purchase</td>
    </tr>
    <tr>
      <td><strong>MCC</strong></td>
      <td>This code (3 digits) identifies the mobile country code.</td>
    </tr>
    <tr>
      <td><strong>MNC</strong></td>
      <td>This code (characters or digits) identifies the carrier in the current country.</td>
    </tr>
    <tr>
      <td><strong>AppControl</strong></td>
      <td>A standard mechanism in Tizen for using specific operations exported by other applications.</td>
    </tr>
    <tr>
      <td><strong>Operation ID</strong></td>
      <td>Defines the behavior of the AppControl.</td>
    </tr>
    <tr>
      <td><strong>Application ID</strong></td>
      <td>Used to identify each application control supplier.</td>
    </tr>
    <tr>
      <td><strong>Item Group ID</strong></td>
      <td>Collection of items identified by a single ID (item list).</td>
    </tr>
    <tr>
      <td><strong>Item</strong></td>
      <td>A single piece of content.</td>
    </tr>
  </tbody>
</table>

<h2 id="applying-iap-to-your-application">Applying IAP to Your Application</h2>

<p>Applying IAP to your application is easy. The process contains the following steps:</p>

<ol>
  <li>Register your items to the <a href="http://seller.tizenstore.com">Tizen Store Seller Office</a>.</li>
  <li>Program your application to work with IAP.</li>
  <li>Test and upload your application.</li>
</ol>

<p>The following sections describe the process in more detail.</p>

<h2 id="1-registering-your-items-to-tizen-store-seller-office">1. Registering Your Items to Tizen Store Seller Office</h2>

<p>Before you set up and program your application for IAP, you need to register your item group and items to the Tizen Store Seller Office.</p>

<p>An item group is a collection of items connected to your application in the Tizen Store Seller Office. For example, if there are 10 kinds of special items you need for your game, you need to create 1 item group for your game and 10 individual items. Registering the items is really simple.</p>

<h3 id="11-connect-to-tizen-store-seller-office">1.1. Connect to Tizen Store Seller Office</h3>

<p>Log in to the <a href="http://seller.tizenstore.com/">Tizen Store Seller Office</a>. If you do not have an account for the Tizen Store Seller Office, create a new account. After you have logged in to the Tizen Store, register as a private seller if you want to sell applications under your personal name, or as a corporate seller if you want to sell applications under your company name.</p>

<h3 id="12-register-a-new-item-group">1.2. Register a New Item Group</h3>

<p>The following steps explain how to register a new item group on Seller Office:</p>

<ol>
  <li>Click <strong>Applications &gt; Item</strong> to navigate to the selected menu option.</li>
  <li>Click <strong>Add Item Group</strong>.</li>
  <li>Fill in the fields for the <strong>Item Group Title</strong> and <strong>Description</strong>, and click <strong>OK</strong> to register your item group.</li>
  <li>When the item group is registered, you can click <strong>Edit</strong> to modify its information.</li>
  <li>Select a checkbox and click <strong>Delete</strong> to delete an item group. When you delete an item group, all items included in that group are also deleted.</li>
  <li>You can copy registered item groups from the item group list. When you copy an item group, all items included in that group are also copied.</li>
</ol>

<p>An item group can be modified, deleted, or copied when the application has the temporary status.</p>

<h3 id="13-add-a-new-item-temporary-status">1.3. Add a New Item (Temporary Status)</h3>

<p>From the item list, select the name of a registered item group to navigate to its information page. After an item group is created, a list of temporary tabs appears on the information screen when you first access it.</p>

<ul>
  <li>Click <strong>Add Item</strong> on the temporary tab on the view page to enter basic information, such as title, price, and description. Click <strong>OK</strong> to add items. For more information on price setting, see the <strong>Application Registration Guide</strong>.</li>
  <li>You can batch register items by clicking <strong>Item Bulk Upload</strong> to upload an Excel file.</li>
</ul>

<p>When the item has been added, you can click its title in the item list to view the added content.</p>

<h4 id="131-edit-an-item-temporary-status">1.3.1. Edit an Item (Temporary Status)</h4>

<p>You can add, modify, or delete an item if there is an application listed in the item group, or if registered or revised applications in the item group are listed under Pre-Certification.</p>

<ul>
  <li>To view and edit the item title, price, description, and image, click the title of the item on the temporary tab list in the <strong>View</strong> popup window.</li>
  <li>If all the applications containing the item are listed under Pre-Certification, select the checkbox and click <strong>Delete</strong> to delete the item from all of them. However, if the statuses of items mapped for applications are for sale, it cannot be deleted.</li>
  <li>All changes are applied when all the mapped applications are validated. The <strong>On Standby</strong> button is displayed until validation is complete.</li>
</ul>

<h4 id="132-item-sales-sales-status">1.3.2. Item Sales (Sales Status)</h4>

<p>To register the item with the sales status:</p>

<ol>
  <li>Items are registered and modified and you can view them in sales.</li>
  <li>If all the mapped applications that are being registered or revised in the item group are listed under Pre-Certification, click the <strong>Modify Item(s)</strong> button to create a temporary tab that allows you to modify the applications.</li>
</ol>

<h2 id="2-setting-your-application-project-up-to-use-iap">2. Setting Your Application Project up to Use IAP</h2>

<p>IAP uses an AppControl mechanism, and as such requires no updates to the application project. Working with IAP means simply getting the proper AppControl.</p>

<p>For more information, see the Application Controls guide (in <a href="../../native/guides/app-management/app-controls.md">native</a> and <a href="../../web/guides/app-management/app-controls.md">Web</a> applications) and AppControl API (in <a href="../../native/api/mobile/latest/group__CAPI__APP__CONTROL__MODULE.html">native</a> and <a href="../../web/api/latest/device_api/mobile/tizen/application.html">Web</a> applications).</p>

<h2 id="3-programming-your-application-to-work-with-iap">3. Programming Your Application to Work with IAP</h2>

<p>Programming with IAP is very similar to programming with the Tizen native API and other AppControls supported in the system. Before you implement your code you must edit the configuration file (<code class="highlighter-rouge">tizen-manifest.xml</code> in native applications or <code class="highlighter-rouge">config.xml</code> in Web applications) first.</p>

<p>Section 3.1. explains more about the configuration file.</p>

<p>Note that the IAP allows 2 modes of operation (key name <code class="highlighter-rouge">"_mode"</code>):</p>

<ul>
  <li>Normal mode or commercial mode: To be used with the finished application that is released on the market. Proper data is obtained and returned from the IAP server.</li>
  <li>Developer mode: This can be used while development of the application for testing purpose. Payment always succeeds.</li>
</ul>

<p>The following table describes the interfaces list.</p>

<p><strong>Table: Interfaces list</strong></p>
<table>
	<thead>
		<tr>
			<th>Application ID</th>
			<th>Operation ID</th>
			<th>Description</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td><code>org.tizen.inapppurchase.iapclient</code></td>
			<td><code>http://tizen.org/appcontrol/operation/iapv2/purchase</code></td>
			<td>The operation purchases the item.
			<p>During this step a purchase screen is displayed, and the user needs to provide details (e-mail, password) to make a purchase.</p>
			<p>The output value indicates the result of purchase (success or failure), and is used to verify the purchase.</p>
			</td>
		</tr>
		<tr>
			<td rowspan="3"><code>org.tizen.inapppurchase.iapservice</code></td>
			<td><code>http://tizen.org/appcontrol/operation/iapv2/get_item_list</code></td>
			<td>The operation returns a list of items available for purchase.
			<p>The output data values are used to send a list of items available for purchase.</p>
			</td>
		</tr>
		<tr>
			<td><code>http://tizen.org/appcontrol/operation/iapv2/get_purchased_item_list</code></td>
			<td>The operation returns a list of already purchased items.</td>
		</tr>
		<tr>
			<td><code>http://tizen.org/appcontrol/operation/iapv2/get_country_list</code></td>
			<td>The operation returns a list of countries' MCC and MNC codes to be used in developer mode during testing in-app purchases.</td>
		</tr>
	</tbody>
</table>

<h3 id="purchasing-items">Purchasing Items</h3>

<p>The following steps describe the process of item purchase:</p>

<ol>
  <li>
    <p>Get the item list.</p>

    <p>Use the <code class="highlighter-rouge">org.tizen.inapppurchase.iapservice</code> application ID to retrieve a list items from the Tizen Store IAP server for a given group ID:</p>

    <p><img src="./media/iap_workflow_itemlist.png" alt="Item list" /></p>
  </li>
  <li>
    <p>Display a list of items in your In-App Purchase application.</p>
  </li>
  <li>
    <p>Purchase the item.</p>

    <p>Use the <code class="highlighter-rouge">org.tizen.inapppurchase.iapclient</code> application ID to make a purchase of a particular item:</p>

    <p><img src="./media/iap_workflow_purchase.png" alt="Purchase item" /></p>
  </li>
</ol>

<h3 id="getting-a-list-of-countries">Getting a List of Countries</h3>

<p>In developer mode, you are able to test In-App Purchase with different country servers. To get a list of available servers, you can use the <code class="highlighter-rouge">http://tizen.org/appcontrol/operation/iapv2/get_country_list</code> operation.</p>

<p><strong>Figure: Country list</strong></p>

<p><img src="./media/iap_workflow_countrylist.png" alt="Country list" /></p>

<h3 id="31-adding-permissions-to-the-configuration-file">3.1. Adding Permissions to the Configuration File</h3>

<p>IAP uses AppControl interface to handle purchases. You need to add the <code class="highlighter-rouge">http://tizen.org/privilege/appmanager.launch</code> privilege to your applicationâ€™s configuration file:</p>

<ul>
  <li>
    <p>In native applications:</p>

    <p>The following example shows the <code class="highlighter-rouge">tizen-manifest.xml</code> file which contains the required permissions:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8" standalone="no"?&gt;</span>
<span class="nt">&lt;manifest</span> <span class="na">xmlns=</span><span class="s">"http://tizen.org/ns/packages"</span> <span class="na">package=</span><span class="s">"org.tizen.iapsample"</span> <span class="na">version=</span><span class="s">"1.0.0"</span><span class="nt">&gt;</span>
   <span class="nt">&lt;privileges&gt;</span>
      <span class="nt">&lt;privilege&gt;</span>http://tizen.org/privilege/appmanager.launch<span class="nt">&lt;/privilege&gt;</span>
   <span class="nt">&lt;/privileges&gt;</span>
<span class="nt">&lt;/manifest&gt;</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>In Web applications:</p>

    <p>The following example shows the <code class="highlighter-rouge">config.xml</code> file which contains the required permissions:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;widget</span> <span class="na">xmlns=</span><span class="s">"http://www.w3.org/ns/widgets"</span> <span class="na">xmlns:tizen=</span><span class="s">"http://tizen.org/ns/widgets"</span> <span class="na">id=</span><span class="s">...</span><span class="nt">&gt;</span>
   <span class="nt">&lt;tizen:privilege</span> <span class="na">name =</span> <span class="s">"http://tizen.org/privilege/application.launch"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/widget&gt;</span>
</code></pre></div>    </div>
  </li>
</ul>

<h3 id="32-iap-service-control-get-item-list-purchased-item-list-country-list">3.2. IAP Service Control (Get Item List, Purchased Item List, Country List)</h3>

<p>The IAP Service instance allows you to get a list of items available for purchase and to get a list of already purchased item. It also allows you to get a list of countries available for testing in developer mode.</p>

<ul>
  <li>
    <p><strong>Application ID</strong></p>

    <p>This application control can be accessed using an aliased application ID of the <code class="highlighter-rouge">org.tizen.inapppurchase.iapservice</code> application ID.</p>
  </li>
  <li>
    <p><strong>Operation ID</strong></p>

    <p>This application supports the <code class="highlighter-rouge">http://tizen.org/appcontrol/operation/iapv2/get_item_list</code> and <code class="highlighter-rouge">http://tizen.org/appcontrol/operation/iapv2/get_purchased_item_list</code> operations. It also supports the <code class="highlighter-rouge">http://tizen.org/appcontrol/operation/iapv2/get_country_list</code> operation.</p>
  </li>
  <li>
    <p><strong>Get item list operation</strong></p>

    <p>This operation returns a list of items available for purchase.</p>
  </li>
  <li>
    <p><strong>Input data</strong></p>

    <p>The following table shows the key-value pairs required in the input extra data for the <code class="highlighter-rouge">http://tizen.org/appcontrol/operation/iapv2/get_item_list</code> operation.</p>
  </li>
</ul>

<p><strong>Table: Input data for getting a list of items</strong></p>
<table>
		<thead>
			<tr>
				<th>Key</th>
				<th>Value</th>
				<th>Description</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td><code>_mode</code></td>
				<td>0 or 1</td>
				<td>
				<p>Mode type:</p>
				<ul>
					<li>
					<p>0: Normal (commercial) mode</p>
					<p>This mode needs to be used in an application submitted to the Tizen Store.</p>
					</li>
					<li>
					<p>1: Developer mode</p>
					<p>This mode can be used for testing purposes while developing the application. Payment always succeeds.</p>
					</li>
				</ul>
				<p>The default value is 0.</p>
				<p>This information is optional.</p>
				</td>
			</tr>
			<tr>
				<td><code>_transactionId</code></td>
				<td>Transaction ID</td>
				<td>
				<p>Transaction ID, such as 1 or 2.</p>
				<p>The ID is used to track a transaction between requests.</p>
				<p>This information is mandatory.</p>
				</td>
			</tr>
			<tr>
				<td><code>_startNumber</code></td>
				<td>Start number</td>
				<td>
				<p>Index of the first item in the list.</p>
				<p>Start downloading items from this index number.</p>
				<p>This information is mandatory.</p>
				</td>
			</tr>
			<tr>
				<td><code>_endNumber</code></td>
				<td>End number</td>
				<td>
				<p>Index of the last item in the list.</p>
				<p>Stop downloading items after this index number.</p>
				<p>This information is mandatory.</p>
				</td>
			</tr>
			<tr>
				<td><code>_itemGroupId</code></td>
				<td>Group ID</td>
				<td>
				<p>Group ID, such as 100000001455.</p>
				<p>A group ID is associated with a specific collection of items in Tizen Store Seller Office. You need to register your group ID in Tizen Store Seller Office first.</p>
				<p>This information is mandatory.</p>
				</td>
			</tr>
			<tr>
				<td><code>_languageCd</code></td>
				<td>Language code</td>
				<td>
				<p>Language code, such as <code>eng</code> or <code>rus</code>.</p>
				<p>The language code conforms to ISO 639-2, which uses 3-character codes.</p>
				<p>The language code is associated with the display language of the item details in Tizen Store Seller Office.</p>
				<p>The output parameters (<code>itemName, itemDescription, reserved1, reserved2</code>) are changed according to the language code.</p>
				<p>This information is optional.</p>
				</td>
			</tr>
			<tr>
				<td><code>_itemTypeCd</code></td>
				<td>00, 01, 02, or 10</td>
				<td>
				<p>Item type code:</p>
				<ul>
					<li>
					<p>00: Non-consumable</p>
					</li>
					<li>
					<p>01: Consumable</p>
					</li>
					<li>
					<p>10: All</p>
					</li>
				</ul>
				<p>This information is optional.</p>
				</td>
			</tr>
			<tr>
				<td>
				<p>&nbsp;</p>
				<p><code>_mcc</code></p>
				<p>(deprecated)</p>
				</td>
				<td>Mobile country code (MCC)</td>
				<td>
				<p>Mobile country code, such as 250.</p>
				<p>MMCs can only be used in developer mode. You can retrieve a list of available MCCs using the get country list operation.</p>
				<p>This information is optional.</p>
				<p>(18th Oct. by Tizen Store Dev. - deprecated parameter)</p>
				</td>
			</tr>
			<tr>
				<td>
				<p><code>_mnc</code></p>
				<p>(deprecated)</p>
				</td>
				<td>Mobile network code (MNC)</td>
				<td>
				<p>Mobile network code, such as 01.</p>
				<p>MNCs can only be used in developer mode.</p>
				<p>This information is optional.</p>
				<p>(18th Oct. by Tizen Store Dev. - deprecated parameter)</p>
				</td>
			</tr>
		</tbody>
	</table>

<ul>
  <li><strong>Example code for get item list</strong>
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>app_control_h app_control;
int rt = app_control_create(&amp;app_control);
  
if (rt == APP_CONTROL_ERROR_NONE) {
    app_control_set_app_id(app_control, " org.tizen.inapppurchase.iapservice");
    app_control_set_operation(app_control, "http://tizen.org/appcontrol/operation/iapv2/get_item_list");
    app_control_add_extra_data(app_control, "_mode", "0");
    app_control_add_extra_data(app_control, "_transactionId", "123");
    app_control_add_extra_data(app_control, "_startNumber", "1");
    app_control_add_extra_data(app_control, "_endNumber", "10");
    app_control_add_extra_data(app_control, "_itemGroupId", "100000000012");
    app_control_add_extra_data(app_control, "_languageCd", "ENG");
    app_control_add_extra_data(app_control, "_itemTypeCd", "00");

    rt = app_control_send_launch_request(app_control, get_item_list_cb, NULL);
}
if (app_control != NULL)
    app_control_destroy(app_control);
</code></pre></div>    </div>
  </li>
  <li>
    <p><strong>Output Data</strong></p>

    <p>The results of the operation are returned in the app control callback.</p>

    <p>The following table shows the output data for the <code class="highlighter-rouge">http://tizen.org/appcontrol/operation/iapv2/get_item_list</code> operation.</p>

    <p><strong>Table: Output data for getting a list of items</strong></p>

    <table>
      <thead>
        <tr>
          <th>Key</th>
          <th>Value</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><code class="highlighter-rouge">_method</code></td>
          <td><code class="highlighter-rouge">OnItemInformationListReceived</code></td>
          <td>Method to be called as a purchase request result.</td>
        </tr>
        <tr>
          <td><code class="highlighter-rouge">_result</code></td>
          <td>Result code</td>
          <td><a href="#result_code">Result codes are described at the end of this section.</a></td>
        </tr>
        <tr>
          <td><code class="highlighter-rouge">_resultDescription</code></td>
          <td>Result code/Function ID</td>
          <td>Result code/Function ID when <code class="highlighter-rouge">_result</code> value is not 0 (success). <a href="#result_code">Result codes are described at the end of this section.</a></td>
        </tr>
        <tr>
          <td><code class="highlighter-rouge">_transactionId</code></td>
          <td>Transaction ID</td>
          <td>This is the same ID as the transaction ID that is used in the request.</td>
        </tr>
        <tr>
          <td><code class="highlighter-rouge">_startNumber</code></td>
          <td>Start number</td>
          <td>Index of the first item in the list.</td>
        </tr>
        <tr>
          <td><code class="highlighter-rouge">_endNumber</code></td>
          <td>End number</td>
          <td>Index of the last item in the list.</td>
        </tr>
        <tr>
          <td><code class="highlighter-rouge">_totalCount</code></td>
          <td>Total items count</td>
          <td>Total number of items based on the start number and end number.</td>
        </tr>
        <tr>
          <td><code class="highlighter-rouge">_itemTotalCount</code></td>
          <td>Total registered items count</td>
          <td>Total number of registered items in the group ID.</td>
        </tr>
      </tbody>
    </table>

    <p>There is also a <code class="highlighter-rouge">_totalCount</code> number of items in the output data. Each key consists of a <code class="highlighter-rouge">PREFIX</code> (list item index value) and a key (such as <code class="highlighter-rouge">12_itemId</code>).</p>

    <p><strong>Table: Item keys in the output data</strong></p>

    <table>
      <thead>
          <tr>
              <th>Key</th>
              <th>Value</th>
              <th>Description</th>
          </tr>
      </thead>
      <tbody>
          <tr>
              <td><code>PREFIX_itemId</code></td>
              <td>Item ID</td>
              <td>This is the same number as an item ID that is used in the request.</td>
          </tr>
          <tr>
              <td><code>PREFIX_itemGroupId</code></td>
              <td>Item group ID</td>
              <td>ID of a collection of items. The collection is linked to your application in Tizen Store Seller Office.</td>
          </tr>
          <tr>
              <td><code>PREFIX_itemName</code></td>
              <td>Item name</td>
              <td>Name provided during item registration in Tizen Store Seller Office.</td>
          </tr>
          <tr>
              <td><code>PREFIX_currencyUnit</code></td>
              <td>Currency unit</td>
              <td>Device user's currency unit, such as $, Won, or Pound.</td>
          </tr>
          <tr>
              <td><code>PREFIX_unitPrecedes</code></td>
              <td>0 or 1</td>
              <td><p>Currency unit position:</p>
                  <ul>
                      <li>0: Tail (2.99 TL)</li>
                      <li>1: Front ($ 2.99)</li>
                  </ul>
              </td>
          </tr>
          <tr>
              <td><code>PREFIX_hasPenny</code></td>
              <td>0 or 1</td>
              <td><p>Information whether the currency unit has penny representation:</p>
                  <ul>
                      <li>0: No</li>
                      <li>1: Yes</li>
                  </ul>
              </td>
          </tr>
          <tr>
              <td><code>PREFIX_itemPrice</code></td>
              <td>Item price</td>
              <td>Price of the item in the local currency.</td>
          </tr>
          <tr>
              <td><code>PREFIX_itemDownloadUrl</code></td>
              <td>Item download URL</td>
              <td>URL provided during item registration in Tizen Store Seller Office.</td>
          </tr>
          <tr>
              <td><code>PREFIX_itemImageUrl</code></td>
              <td>Item image URL</td>
              <td>URL provided during item registration in Tizen Store Seller Office.</td>
          </tr>
          <tr>
              <td><code>PREFIX_itemDescription</code></td>
              <td>Item description</td>
              <td>A description provided during item registration.</td>
          </tr>
          <tr>
              <td><code>PREFIX_reserved1</code></td>
              <td>Reserved field 1</td>
              <td>Reserved field 1</td>
          </tr>
          <tr>
              <td><code>PREFIX_reserved2</code></td>
              <td>Reserved field 2</td>
              <td>Reserved field 2</td>
          </tr>
          <tr>
              <td><code>PREFIX_itemTypeCd</code></td>
              <td>00, 01, or 02</td>
              <td><p>Item type code:</p>
                  <ul>
                      <li>00: Non-consumable</li>
                      <li>01: Consumable</li>
                      <li>02: Subscription (non-renewing - to be developed)</li>
                  </ul>
              </td>
          </tr>
          <tr>
              <td><code>PREFIX_itemSubsBillDurationCd</code></td>
              <td>00, 01, 02, or 03</td>
              <td>To be developed (reserved field)</td>
          </tr>
          <tr>
              <td><code>PREFIX_subscriptionDurationMultiplier</code></td>
              <td>Subscription duration multiplier</td>
              <td>To be developed (reserved field)</td>
          </tr>
          <tr>
              <td><code>PREFIX_timeStamp</code></td>
              <td>Time stamp</td>
              <td><p>Based on GMT +0, server time.</p>
                  <p>(yyyyMMddHHmmss)</p>
              </td>
          </tr>
      </tbody>
  </table>
  </li>
  <li>
    <p><strong>Example code for retrieving a list of items</strong></p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>void
get_item_list_cb(app_control_h request, app_control_h reply, app_control_result_e result, void *user_data)
{
    char* rt_method = NULL;
    char* rt_result = NULL;
    char* rt_resultDescription = NULL;
    char* rt_transactionId = NULL;
    char* rt_startNumber = NULL;
    char* rt_endNumber = NULL;
    char* rt_totalCount = NULL;
    char* rt_itemTotalCount = NULL;
    char* rt_itemId = NULL;
    char* rt_itemGroupId = NULL;
    char* rt_itemName = NULL;
    char* rt_currencyUnit = NULL;
    char* rt_unitPrecedes = NULL;
    char* rt_hasPenny = NULL;
    char* rt_itemPrice = NULL;
    char* rt_itemDownloadUrl = NULL;
    char* rt_itemImageUrl = NULL;
    char* rt_itemDescription = NULL;
    char* rt_reserved1 = NULL;
    char* rt_reserved2 = NULL;
    char* rt_itemTypeCd = NULL;
    char* rt_itemSubsBillDurationCd = NULL;
    char* rt_subscriptionDurationMultiplier = NULL;
    char* rt_timeStamp = NULL;

    if (result == APP_CONTROL_RESULT_SUCCEEDED) {
        rt = app_control_get_extra_data(reply, "_method", &amp;rt_method);
        rt = app_control_get_extra_data(reply, "_result", &amp;rt_result);

        /* Success */
        if (!strcmp("0", rt_result)) {
            rt = app_control_get_extra_data(reply, "_resultDescription", &amp;rt_resultDescription);
            rt = app_control_get_extra_data(reply, "_transactionId", &amp;rt_transactionId);
            rt = app_control_get_extra_data(reply, "_startNumber", &amp;rt_startNumber);
            rt = app_control_get_extra_data(reply, "_endNumber", &amp;rt_endNumber);
            rt = app_control_get_extra_data(reply, "_totalCount", &amp;rt_totalCount);
            rt = app_control_get_extra_data(reply, "_itemTotalCount", &amp;rt_itemTotalCount);

            int start = atoi(rt_startNumber);
            int end = atoi(rt_endNumber);

            char keyId[100] = {0,};
            for (; start &lt;= end; start++) {
                snprintf(key_id, sizeof(keyId), "%d%s", start, "_itemId");
                rt = app_control_get_extra_data(reply, key_id, &amp;rt_itemId);

                snprintf(key_id, sizeof(keyId), "%d%s", start, "_itemGroupId);");
                rt = app_control_get_extra_data(reply, key_id, &amp;rt_itemGroupId);

                snprintf(key_id, sizeof(keyId), "%d%s", start, "_itemName");
                rt = app_control_get_extra_data(reply, keyId, &amp;rt_itemName);

                snprintf(key_id, sizeof(keyId), "%d%s", start, "_currencyUnit");
                rt = app_control_get_extra_data(reply, keyId, &amp;rt_currencyUnit);

                snprintf(key_id, sizeof(keyId), "%d%s", start, "_unitPrecedes");
                rt = app_control_get_extra_data(reply, keyId, &amp;rt_unitPrecedes);

                snprintf(key_id, sizeof(keyId), "%d%s", start, "_hasPenny");
                rt = app_control_get_extra_data(reply, keyId, &amp;rt_hasPenny);

                snprintf(key_id, sizeof(keyId), "%d%s", start, "_itemPrice");
                rt = app_control_get_extra_data(reply, keyId, &amp;rt_itemPrice);

                snprintf(key_id, sizeof(keyId), "%d%s", start, "_itemDownloadUrl");
                rt = app_control_get_extra_data(reply, keyId, &amp;rt_itemDownloadUrl);

                snprintf(key_id, sizeof(keyId), "%d%s", start, "_itemImageUrl");
                rt = app_control_get_extra_data(reply, keyId, &amp;rt_itemImageUrl);

                snprintf(key_id, sizeof(keyId), "%d%s", start, "_itemDescription");
                rt = app_control_get_extra_data(reply, keyId, &amp;rt_itemDescription);

                snprintf(key_id, sizeof(keyId), "%d%s", start, "_reserved1");
                rt = app_control_get_extra_data(reply, keyId, &amp;rt_reserved1);

                snprintf(key_id, sizeof(keyId), "%d%s", start, "_reserved2");
                rt = app_control_get_extra_data(reply, keyId, &amp;rt_reserved2);

                snprintf(key_id, sizeof(keyId), "%d%s", start, "_itemTypeCd");
                rt = app_control_get_extra_data(reply, keyId, &amp;rt_itemTypeCd);

                snprintf(key_id, sizeof(keyId), "%d%s", start, "_itemSubsBillDurationCd");
                rt = app_control_get_extra_data(reply, keyId, &amp;rt_itemSubsBillDurationCd);

                snprintf(key_id, sizeof(keyId), "%d%s", start, "_subscriptionDurationMultiplier");
                rt = app_control_get_extra_data(reply, keyId, &amp;rt_subscriptionDurationMultiplier);

                snprintf(key_id, sizeof(keyId), "%d%s", start, "_timeStamp");
                rt = app_control_get_extra_data(reply, keyId, &amp;rt_timeStamp);
            }
        }
    }
}
</code></pre></div>    </div>
  </li>
  <li>
    <p><strong><code class="highlighter-rouge">GetPurchasedItemList</code> operation</strong></p>

    <p>This operation returns a list of already purchased items.</p>
  </li>
  <li>
    <p><strong>Input data</strong></p>

    <p>The following table shows the key and value pairs required in the input extra data for the <code class="highlighter-rouge">http://tizen.org/appcontrol/operation/iapv2/get_purchased_item_list</code> operation.</p>

    <p><strong>Table: Input data for getting a list of purchased items</strong></p>

    <table>
      <thead>
          <tr>
              <th>Key</th>
              <th>Value</th>
              <th>Description</th>
          </tr>
      </thead>
      <tbody>
          <tr>
              <td><code>_mode</code></td>
              <td>0 or 1</td>
              <td>
              <p>Mode type:</p>
              <ul>
                  <li>
                  <p>0: Normal (commercial) mode</p>
                  <p>This mode needs to be used in an application submitted to the Tizen Store.</p>
                  </li>
                  <li>
                  <p>1: Developer mode</p>
                  <p>This mode can be used for testing purposes while developing the application. Payment always succeeds.</p>
                  </li>
              </ul>
              <p>The default value is 0.</p>
              <p>This information is optional.</p>
              </td>
          </tr>
          <tr>
              <td><code>_transactionId</code></td>
              <td>Transaction ID</td>
              <td>
              <p>Transaction ID, such as 1 or 2.</p>
              <p>The ID is used to track a transaction between requests.</p>
              <p>This information is mandatory.</p>
              </td>
          </tr>
          <tr>
              <td><code>_startNumber</code></td>
              <td>Start number</td>
              <td>
              <p>Index of the first item in the list.</p>
              <p>Start downloading items from this index number.</p>
              <p>This information is mandatory.</p>
              </td>
          </tr>
          <tr>
              <td><code>_endNumber</code></td>
              <td>End number</td>
              <td>
              <p>Index of the last item in the list.</p>
              <p>Stop downloading items after this index number.</p>
              <p>This information is mandatory.</p>
              </td>
          </tr>
          <tr>
              <td><code>_startDate</code></td>
              <td>Start date</td>
              <td>
              <p>The start date of the requested inbox list, such as 20131031.</p>
              <p>This information is optional.</p>
              </td>
          </tr>
          <tr>
              <td><code>_endDate</code></td>
              <td>End date</td>
              <td>
              <p>The end date of the requested inbox list, such as 20131031.</p>
              <p>This information is optional.</p>
              </td>
          </tr>
          <tr>
              <td><code>_itemGroupId</code></td>
              <td>Group ID</td>
              <td>
              <p>Group ID, such as 100000002501.</p>
              <p>A group ID is associated with a specific collection of items in Tizen Store Seller Office. You need to register your group ID in Tizen Store Seller Office first.</p>
              <p>This information is mandatory.</p>
              </td>
          </tr>
          <tr>
              <td><code>_languageCd</code></td>
              <td>Language code</td>
              <td>
              <p>Language code, such as <code>eng</code> or <code>rus</code>.</p>
              <p>The language code conforms to ISO 639-2, which uses 3-character codes.</p>
              <p>The language code is associated with the display language of the item details in Tizen Store Seller Office.</p>
              <p>The output parameters (<code>itemName, itemDescription, reserved1, reserved2</code>) are changed according to the language code.</p>
              <p>This information is optional.</p>
              </td>
          </tr>
          <tr>
              <td>
              <p><code>_mcc</code></p>
              <p>(deprecated)</p>
              </td>
              <td>Mobile country code (MCC)</td>
              <td>
              <p>Mobile country code, such as 250.</p>
              <p>MMCs can only be used in developer mode. You can retrieve a list of available MCCs using the get country list operation.</p>
              <p>This information is optional.</p>
              <p>(18th Oct. by Tizen Store Dev. - deprecated parameter)</p>
              </td>
          </tr>
          <tr>
              <td>
              <p><code>_mnc</code></p>
              <p>(deprecated)</p>
              </td>
              <td>Mobile network code (MNC)</td>
              <td>
              <p>Mobile network code, such as 01.</p>
              <p>MNCs can only be used in developer mode.</p>
              <p>This information is optional.</p>
              <p>(18th Oct. by Tizen Store Dev. - deprecated parameter)</p>
              </td>
          </tr>
      </tbody>
  </table>
  </li>
  <li><strong>Example code for retrieving a list of purchased items</strong>
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>app_control_h app_control;
int rt = app_control_create(&amp;app_control);

if (rt == APP_CONTROL_ERROR_NONE) {
    app_control_set_app_id(app_control, " org.tizen.inapppurchase.iapservice");
    app_control_set_operation(app_control, "http://tizen.org/appcontrol/operation/iapv2/get_purchased_item_list");
    app_control_add_extra_data(app_control, "_mode", "0");
    app_control_add_extra_data(app_control, "_transactionId", "123");
    app_control_add_extra_data(app_control, "_startNumber", "1");
    app_control_add_extra_data(app_control, "_endNumber", "10");
    app_control_add_extra_data(app_control, "_startDate", "20140101");
    app_control_add_extra_data(app_control, "_endDate", "20141231");
    app_control_add_extra_data(app_control, "_itemGroupId", "100000000012");
    app_control_add_extra_data(app_control, "_languageCd", "ENG");

    rt = app_control_send_launch_request(app_control, get_purchased_item_list_cb, NULL);
}

if (app_control != NULL)
    app_control_destroy(app_control);
</code></pre></div>    </div>
  </li>
  <li>
    <p><strong>Output Data</strong></p>

    <p>The results of the operation are returned in the app control callback.</p>

    <p>The following table shows the output data for the <code class="highlighter-rouge">http://tizen.org/appcontrol/operation/iapv2/get_purchased_item_list</code> operation.</p>

    <p><strong>Table: Output data for getting a list of purchased items</strong></p>

    <table>
      <thead>
        <tr>
          <th>Key</th>
          <th>Value</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><code class="highlighter-rouge">_method</code></td>
          <td><code class="highlighter-rouge">OnPurchasedItem</code> or <code class="highlighter-rouge">InformationListReceived</code></td>
          <td>Method to be called as a purchase request result.</td>
        </tr>
        <tr>
          <td><code class="highlighter-rouge">_result</code></td>
          <td>Result code</td>
          <td><a href="#result_code">Result codes are described at the end of this section.</a></td>
        </tr>
        <tr>
          <td><code class="highlighter-rouge">_resultDescription</code></td>
          <td>Result code/Function ID</td>
          <td>Result code/Function ID when <code class="highlighter-rouge">_result</code> value is not 0 (success). <a href="#result_code">Result codes are described at the end of this section.</a></td>
        </tr>
        <tr>
          <td><code class="highlighter-rouge">_transactionId</code></td>
          <td>Transaction ID</td>
          <td>This is the same ID as the transaction ID that is used in the request.</td>
        </tr>
        <tr>
          <td><code class="highlighter-rouge">_startNumber</code></td>
          <td>Start number</td>
          <td>Index of the first item in the list.</td>
        </tr>
        <tr>
          <td><code class="highlighter-rouge">_endNumber</code></td>
          <td>End number</td>
          <td>Index of the last item in the list.</td>
        </tr>
        <tr>
          <td><code class="highlighter-rouge">_totalCount</code></td>
          <td>Total items count</td>
          <td>Total number of items based on the start number and end number.</td>
        </tr>
        <tr>
          <td><code class="highlighter-rouge">_itemTotalCount</code></td>
          <td>Total purchased items count</td>
          <td>Total number of purchased items in the group ID.</td>
        </tr>
      </tbody>
    </table>

    <p>There is also a <code class="highlighter-rouge">_totalCount</code> number of items in the output data. Each key consists of a <code class="highlighter-rouge">PREFIX</code> (list item index value) and a key (such as <code class="highlighter-rouge">12_itemId</code>).</p>

    <p><strong>Table: Item keys in the output data</strong></p>
    <table>
      <thead>
          <tr>
              <th>Key</th>
              <th>Value</th>
              <th>Description</th>
          </tr>
      </thead>
      <tbody>
          <tr>
              <td><code>PREFIX_itemId</code></td>
              <td>Item ID</td>
              <td>This is the same number as an Item ID that is used in the request.</td>
          </tr>
          <tr>
              <td><code>PREFIX_itemGroupId</code></td>
              <td>Item group ID</td>
              <td>ID of a collection of items. The collection is linked to your application in Tizen Store Seller Office.</td>
          </tr>
          <tr>
              <td><code>PREFIX_itemName</code></td>
              <td>Item name</td>
              <td>Name provided during item registration in Tizen Store Seller Office.</td>
          </tr>
          <tr>
              <td><code>PREFIX_currencyUnit</code></td>
              <td>Currency unit</td>
              <td>Device user's currency unit, such as $, Won, or Pound.</td>
          </tr>
          <tr>
              <td><code>PREFIX_unitPrecedes</code></td>
              <td>0 or 1</td>
              <td>Currency unit position:
              <ul>
                  <li>0: Tail (2.99 TL)</li>
                  <li>1: Front ($ 2.99)</li>
              </ul>
              </td>
          </tr>
          <tr>
              <td><code>PREFIX_hasPenny</code></td>
              <td>0 or 1</td>
              <td>Information whether the currency unit has penny representation:
              <ul>
                  <li>0: No</li>
                  <li>1: Yes</li>
              </ul>
              </td>
          </tr>
          <tr>
              <td><code>PREFIX_itemPrice</code></td>
              <td>Item price</td>
              <td>Price of the item in the local currency.</td>
          </tr>
          <tr>
              <td><code>PREFIX_itemDownloadUrl</code></td>
              <td>Item download URL</td>
              <td>URL provided during item registration in Tizen Store Seller Office.</td>
          </tr>
          <tr>
              <td><code>PREFIX_itemImageUrl</code></td>
              <td>Item image URL</td>
              <td>URL provided during item registration in Tizen Store Seller Office.</td>
          </tr>
          <tr>
              <td><code>PREFIX_itemDescription</code></td>
              <td>Item description</td>
              <td>A description provided during item registration.</td>
          </tr>
          <tr>
              <td><code>PREFIX_reserved1</code></td>
              <td>Reserved field 1</td>
              <td>Reserved field 1</td>
          </tr>
          <tr>
              <td><code>PREFIX_reserved2</code></td>
              <td>Reserved field 2</td>
              <td>Reserved field 2</td>
          </tr>
          <tr>
              <td><code>PREFIX_paymentId</code></td>
              <td>Payment ID</td>
              <td>Payment ID</td>
          </tr>
          <tr>
              <td><code>PREFIX_purchaseDate</code></td>
              <td>Date of purchase</td>
              <td>Date of purchase</td>
          </tr>
          <tr>
              <td><code>PREFIX_itemTypeCd</code></td>
              <td>00, 01, or 02</td>
              <td>Item type code:
              <ul>
                  <li>00: Non-consumable</li>
                  <li>01: Consumable</li>
                  <li>02: Subscription (non-renewing)</li>
              </ul>
              </td>
          </tr>
          <tr>
              <td><code>PREFIX_itemSubsBillDurationCd</code></td>
              <td>00, 01, 02, or 03</td>
              <td>Item subs bill duration code:
              <ul>
                  <li>00: Year</li>
                  <li>01: Month</li>
                  <li>02: Week</li>
                  <li>03: Day</li>
              </ul>
              <p>The <code>_itemTypeCd</code> value is 02.</p>
              <p>If the product type is subscription, the available 4 units for the validity period of the product are YEAR, MONTH, WEEK, and DAY. The units must be typed in capitals.</p>
              </td>
          </tr>
          <tr>
              <td><code>PREFIX_subscriptionDurationMultiplier</code></td>
              <td>Subscription duration multiplier</td>
              <td>If the <code>_itemTypeCd</code> is subscription (02), this is the item duration. Combined with <code>PREFIX_itemSubsBillDurationCd</code>, it means 1 month.</td>
          </tr>
          <tr>
              <td><code>PREFIX_timeStamp</code></td>
              <td>Time stamp</td>
              <td>Based on GMT +0, server time.
              <p>(yyyyMMddHHmmss)</p>
              </td>
          </tr>
      </tbody>
  </table>
  </li>
  <li>
    <p><strong>Example code for retrieving a list of purchased items</strong></p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>void
get_purchased_item_list_cb(app_control_h request, app_control_h reply, app_control_result_e result, void *user_data)
{
    char* rt_method = NULL;
    char* rt_result = NULL;
    char* rt_resultDescription = NULL;
    char* rt_transactionId = NULL;
    char* rt_startNumber = NULL;
    char* rt_endNumber = NULL;
    char* rt_totalCount = NULL;
    char* rt_itemTotalCount = NULL;
    char* rt_itemId = NULL;
    char* rt_itemGroupId = NULL;
    char* rt_itemName = NULL;
    char* rt_currencyUnit = NULL;
    char* rt_unitPrecedes = NULL;
    char* rt_hasPenny = NULL;
    char* rt_itemPrice = NULL;
    char* rt_itemDownloadUrl = NULL;
    char* rt_itemImageUrl = NULL;
    char* rt_itemDescription = NULL;
    char* rt_reserved1 = NULL;
    char* rt_reserved2 = NULL;
    char* rt_paymentId = NULL;
    char* rt_purchaseDate = NULL;
    char* rt_itemTypeCd = NULL;
    char* rt_itemSubsBillDurationCd = NULL;
    char* rt_subscriptionDurationMultiplier = NULL;
    char* rt_timeStamp = NULL;

    if (result == APP_CONTROL_RESULT_SUCCEEDED) {
        rt = app_control_get_extra_data(reply, "_method", &amp;rt_method);
        rt = app_control_get_extra_data(reply, "_result", &amp;rt_result);

        /* Success */
        if (!strcmp("0", rt_result)) {
            rt = app_control_get_extra_data(reply, "_resultDescription", &amp;rt_resultDescription);
            rt = app_control_get_extra_data(reply, "_transactionId", &amp;rt_transactionId);
            rt = app_control_get_extra_data(reply, "_startNumber", &amp;rt_startNumber);
            rt = app_control_get_extra_data(reply, "_endNumber", &amp;rt_endNumber);
            rt = app_control_get_extra_data(reply, "_totalCount", &amp;rt_totalCount);
            rt = app_control_get_extra_data(reply, "_itemTotalCount", &amp;rt_itemTotalCount);

            int start = atoi(rt_startNumber);
            int end = atoi(rt_endNumber);

            char keyId[100] = {0,};
            for (; start &lt;= end; start++) {
                snprintf(key_id, sizeof(keyId), "%d%s", start, "_itemId");
                rt = app_control_get_extra_data(reply, key_id, &amp;rt_itemId);

                snprintf(key_id, sizeof(keyId), "%d%s", start, "_itemGroupId);");
                rt = app_control_get_extra_data(reply, key_id, &amp;rt_itemGroupId);

                snprintf(key_id, sizeof(keyId), "%d%s", start, "_itemName");
                rt = app_control_get_extra_data(reply, keyId, &amp;rt_itemName);

                snprintf(key_id, sizeof(keyId), "%d%s", start, "_currencyUnit");
                rt = app_control_get_extra_data(reply, keyId, &amp;rt_currencyUnit);

                snprintf(key_id, sizeof(keyId), "%d%s", start, "_unitPrecedes");
                rt = app_control_get_extra_data(reply, keyId, &amp;rt_unitPrecedes);

                snprintf(key_id, sizeof(keyId), "%d%s", start, "_hasPenny");
                rt = app_control_get_extra_data(reply, keyId, &amp;rt_hasPenny);

                snprintf(key_id, sizeof(keyId), "%d%s", start, "_itemPrice");
                rt = app_control_get_extra_data(reply, keyId, &amp;rt_itemPrice);

                snprintf(key_id, sizeof(keyId), "%d%s", start, "_itemDownloadUrl");
                rt = app_control_get_extra_data(reply, keyId, &amp;rt_itemDownloadUrl);

                snprintf(key_id, sizeof(keyId), "%d%s", start, "_itemImageUrl");
                rt = app_control_get_extra_data(reply, keyId, &amp;rt_itemImageUrl);

                snprintf(key_id, sizeof(keyId), "%d%s", start, "_itemDescription");
                rt = app_control_get_extra_data(reply, keyId, &amp;rt_itemDescription);

                snprintf(key_id, sizeof(keyId), "%d%s", start, "_reserved1");
                rt = app_control_get_extra_data(reply, keyId, &amp;rt_reserved1);

                snprintf(key_id, sizeof(keyId), "%d%s", start, "_reserved2");
                rt = app_control_get_extra_data(reply, keyId, &amp;rt_reserved2);

                snprintf(key_id, sizeof(keyId), "%d%s", start, "_paymentId");
                rt = app_control_get_extra_data(reply, keyId, &amp;rt_paymentId);

                snprintf(key_id, sizeof(keyId), "%d%s", start, "_purchaseDate");
                rt = app_control_get_extra_data(reply, keyId, &amp;rt_purchaseDate);

                snprintf(key_id, sizeof(keyId), "%d%s", start, "_itemTypeCd");
                rt = app_control_get_extra_data(reply, keyId, &amp;rt_itemTypeCd);

                snprintf(key_id, sizeof(keyId), "%d%s", start, "_itemSubsBillDurationCd");
                rt = app_control_get_extra_data(reply, keyId, &amp;rt_itemSubsBillDurationCd);

                snprintf(key_id, sizeof(keyId), "%d%s", start, "_subscriptionDurationMultiplier");
                rt = app_control_get_extra_data(reply, keyId, &amp;rt_subscriptionDurationMultiplier);

                snprintf(key_id, sizeof(keyId), "%d%s", start, "_timeStamp");
                rt = app_control_get_extra_data(reply, keyId, &amp;rt_timeStamp);
            }
        }
    }
}
</code></pre></div>    </div>
  </li>
  <li>
    <p><strong>GetCountryList operation</strong></p>

    <p>This operation returns a list of countries available for testing in-application purchase.</p>
  </li>
  <li>
    <p><strong>Input data</strong></p>

    <p>The following table show the key and value pairs required in the input extra data for the <code class="highlighter-rouge">http://tizen.org/appcontrol/operation/iapv2/get_country_list</code> operation.</p>

    <p><strong>Table: Input data for getting a list of countries</strong></p>

    <table>
      <thead>
        <tr>
          <th>Key</th>
          <th>Value</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><code class="highlighter-rouge">_transactionId</code></td>
          <td>Transaction ID</td>
          <td>Transaction ID, such as 1 or 2.<br />This information is mandatory.<br />The ID is used to track a transaction between requests.</td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>
    <p><strong>Example code for get country list</strong></p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> app_control_h app_control;
 int rt = app_control_create(&amp;app_control);
   
 if (rt == APP_CONTROL_ERROR_NONE) {
     app_control_set_app_id(app_control, " org.tizen.inapppurchase.iapservice");
     app_control_set_operation(app_control, "http://tizen.org/appcontrol/operation/iapv2/get_country_list");
     app_control_add_extra_data(app_control, "_mode", "0");
     app_control_add_extra_data(app_control, "_transactionId", "123");
   
     rt = app_control_send_launch_request(app_control, get_country_list_cb, NULL);
 }
   
 if (app_control != NULL)
     app_control_destroy(app_control);
</code></pre></div>    </div>
  </li>
  <li>
    <p><strong>Output Data</strong></p>

    <p>The results of the operation are returned in the app control callback.</p>

    <p>The following table shows the output data for the <code class="highlighter-rouge">http://tizen.org/appcontrol/operation/iapv2/get_country_list</code> operation.</p>

    <p><strong>Table: Output data for getting a list of countries</strong></p>

    <table>
      <thead>
        <tr>
          <th>Key</th>
          <th>Value</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><code class="highlighter-rouge">_method</code></td>
          <td><code class="highlighter-rouge">OnCountryListReceived</code></td>
          <td>Method to be called as a purchase request result.</td>
        </tr>
        <tr>
          <td><code class="highlighter-rouge">_result</code></td>
          <td>Result code</td>
          <td><a href="#result_code">Result codes are described at the end of this section.</a></td>
        </tr>
        <tr>
          <td><code class="highlighter-rouge">_resultDescription</code></td>
          <td>Result code/Function ID</td>
          <td>Result code/Function ID when <code class="highlighter-rouge">_result</code> value is not 0 (success). <a href="#result_code">Result codes are described at the end of this section.</a></td>
        </tr>
        <tr>
          <td><code class="highlighter-rouge">_transactionId</code></td>
          <td>Transaction ID</td>
          <td>This is the same ID as the transaction ID that is used in the request.</td>
        </tr>
        <tr>
          <td><code class="highlighter-rouge">_startNumber</code></td>
          <td>Start number</td>
          <td>Index of the first item on the list.</td>
        </tr>
        <tr>
          <td><code class="highlighter-rouge">_endNumber</code></td>
          <td>End number</td>
          <td>Index of the last item on the list.</td>
        </tr>
        <tr>
          <td><code class="highlighter-rouge">_totalCount</code></td>
          <td>Total items count</td>
          <td>Total number of items based on the start number and end number.</td>
        </tr>
      </tbody>
    </table>

    <p>There is also a <code class="highlighter-rouge">_totalCount</code> number of countries in the output data. Each key consists of a <code class="highlighter-rouge">PREFIX</code> (list item index value) and a key (such as <code class="highlighter-rouge">1_countryName</code>).</p>

    <p><strong>Table: Country keys in the output data</strong></p>

    <table>
      <thead>
        <tr>
          <th>Key</th>
          <th>Value</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><code class="highlighter-rouge">PREFIX_countryName</code></td>
          <td>Country name</td>
          <td>Name of a country.</td>
        </tr>
        <tr>
          <td><code class="highlighter-rouge">PREFIX_mcc</code></td>
          <td>MCC (mobile country code)</td>
          <td>MCC (mobile country code) as a string value.</td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>
    <p><strong>Example code for retrieving a list of get country list</strong></p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>void
get_country_list_cb(app_control_h request, app_control_h reply, app_control_result_e result, void *user_data)
{
    char* rt_method = NULL;
    char* rt_result = NULL;
    char* rt_resultDescription = NULL;
    char* rt_transactionId = NULL;
    char* rt_startNumber = NULL;
    char* rt_endNumber = NULL;
    char* rt_totalCount = NULL;
    char* rt_countryName = NULL;
    char* rt_mcc = NULL;
  
    if (result == APP_CONTROL_RESULT_SUCCEEDED) {
        rt = app_control_get_extra_data(reply, "_method", &amp;rt_method);
        rt = app_control_get_extra_data(reply, "_result", &amp;rt_result);

        /* Success */
        if (!strcmp("0", rt_result)) {
            rt = app_control_get_extra_data(reply, "_resultDescription", &amp;rt_resultDescription);
            rt = app_control_get_extra_data(reply, "_transactionId", &amp;rt_transactionId);
            rt = app_control_get_extra_data(reply, "_startNumber", &amp;rt_startNumber);
            rt = app_control_get_extra_data(reply, "_endNumber", &amp;rt_endNumber);
            rt = app_control_get_extra_data(reply, "_totalCount", &amp;rt_totalCount);
  
            int start = atoi(rt_startNumber);
            int end = atoi(rt_endNumber);
  
            char keyId[100] = {0,};
            for (; start &lt;= end; start++) {
                snprintf(key_id, sizeof(keyId), "%d%s", start, "_countryName");
                rt = app_control_get_extra_data(reply, key_id, &amp;rt_countryName);
  
                snprintf(key_id, sizeof(keyId), "%d%s", start, "_mcc");
                rt = app_control_get_extra_data(reply, key_id, &amp;rt_mcc);
            }
        }
    }
}
</code></pre></div>    </div>
  </li>
</ul>

<p><a name="result_code"></a></p>
<ul>
  <li>
    <p><strong>Result code values</strong></p>

    <p>The following table lists the possible values of the <code class="highlighter-rouge">_result</code> key for the <code class="highlighter-rouge">org.tizen.inapppurchase.iapservice</code> application ID.</p>

    <p><strong>Table: Result code values</strong></p>

    <table>
      <thead>
        <tr>
          <th>Value</th>
          <th>String Representation</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>0</td>
          <td><code class="highlighter-rouge">Succeed</code></td>
          <td>The status code for success.</td>
        </tr>
        <tr>
          <td>200</td>
          <td><code class="highlighter-rouge">NetworkError</code></td>
          <td>The status code for network errors.</td>
        </tr>
        <tr>
          <td>1000</td>
          <td><code class="highlighter-rouge">ProcessError</code></td>
          <td>The status code for process errors.</td>
        </tr>
        <tr>
          <td>2001</td>
          <td><code class="highlighter-rouge">NoApplicationStore</code></td>
          <td>The status code if application store not present for the country.</td>
        </tr>
        <tr>
          <td>9201</td>
          <td><code class="highlighter-rouge">ItemGroupIdNotFound</code></td>
          <td>The status code if the item group ID is not found.</td>
        </tr>
        <tr>
          <td>9207</td>
          <td><code class="highlighter-rouge">ItemIdNotFound</code></td>
          <td>The status code if the item ID is not found.</td>
        </tr>
        <tr>
          <td>9502</td>
          <td><code class="highlighter-rouge">InvalidRequestParameter</code></td>
          <td>The status code if the wrong request parameter is passed.</td>
        </tr>
      </tbody>
    </table>
  </li>
</ul>

<h3 id="33-iap-client-control-purchase-of-item">3.3. IAP Client Control (Purchase of Item)</h3>

<p>The IAP Client instance allows you to initialize a purchase of item and to complete the purchase.</p>

<ul>
  <li>
    <p><strong>Application ID</strong></p>

    <p>This application control can be accessed using aliased application ID of <code class="highlighter-rouge">org.tizen.inapppurchase.iapclient</code>.</p>
  </li>
  <li>
    <p><strong>Operation ID</strong></p>

    <p>This application supports the <code class="highlighter-rouge">http://tizen.org/appcontrol/operation/iapv2/purchase</code> operation only.</p>
  </li>
  <li>
    <p><strong>Purchase operation</strong></p>

    <p>This operation launches the purchase application and allows purchasing of In-App items. The input data passed in this operation are used to display a purchase form for particular item. The device user can choose between available payment methods, register his credit card, and confirm the purchase.</p>
  </li>
  <li>
    <p><strong>Input data</strong></p>

    <p>The following table shows the key and value pairs required in the input extra data for the <code class="highlighter-rouge">http://tizen.org/appcontrol/operation/iapv2/purchase</code> operation.</p>

    <p><strong>Table: Input data for launching the purchase application</strong></p>
    <table>
      <thead>
          <tr>
              <th>Key</th>
              <th>Value</th>
              <th>Description</th>
          </tr>
      </thead>
      <tbody>
          <tr>
              <td><code>_mode</code></td>
              <td>0 or 1</td>
              <td>
              <p>Mode type:</p>
              <ul>
                  <li>
                  <p>0: Normal (commercial) mode</p>
                  <p>This mode needs to be used in an application submitted to the Tizen Store.</p>
                  </li>
                  <li>
                  <p>1: Developer mode</p>
                  <p>This mode can be used for testing purposes while developing the application. Payment always succeeds.</p>
                  </li>
              </ul>
              <p>The default value is 0.</p>
              <p>This information is optional.</p>
              </td>
          </tr>
          <tr>
              <td><code>_transactionId</code></td>
              <td>Transaction ID</td>
              <td>
              <p>Transaction ID, such as 1 or 2.</p>
              <p>The ID is used to track a transaction between requests.</p>
              <p>This information is mandatory.</p>
              </td>
          </tr>
          <tr>
              <td><code>_itemId</code></td>
              <td>Item ID</td>
              <td>
              <p>Item ID, such as 000000003501.</p>
              <p>An item ID is associated with a specific item in Tizen Store Seller Office.</p>
              <p>You can retrieve a list of items available for purchase using the <code>org.tizen.inapppurchase.iapservice</code> application ID.</p>
              <p>This information is mandatory.</p>
              </td>
          </tr>
          <tr>
              <td><code>_itemGroupId</code></td>
              <td>Group ID</td>
              <td>
              <p>Group ID, such as 100000001455.</p>
              <p>A group ID is associated with a specific collection of items in Tizen Store Seller Office. You need to register your group ID in Tizen Store Seller Office first.</p>
              <p>This information is mandatory.</p>
              </td>
          </tr>
          <tr>
              <td><code>_languageCd</code></td>
              <td>Language code</td>
              <td>
              <p>Language code, such as <code>eng</code> or <code>rus</code>.</p>
              <p>The language code conforms to ISO 639-2, which uses 3-character codes.</p>
              <p>The language code is associated with the display language of the item details in Tizen Store Seller Office.</p>
              <p>This information is optional.</p>
              <blockquote><strong>Note</strong><br /><code>_itemName</code> is higher priority than <code>_languageCd</code>.</blockquote>
              </td>
          </tr>
          <tr>
              <td><code>_itemName</code></td>
              <td>Item name</td>
              <td>
              <p>Item name, such as "Sword" or "ì¹¼".</p>
              <p>Specify your item name with this key, or leave the key empty to use the default name on the seller site's purchase page.</p>
              <p>This information is optional.</p>
              </td>
          </tr>
          <tr>
              <td>
              <p><code>_mcc</code></p>
              <p>(deprecated)</p>
              </td>
              <td>Mobile country code (MCC)</td>
              <td>
              <p>Mobile country code, such as 250.</p>
              <p>MMCs can only be used in developer mode. You can retrieve a list of available MCCs using the get country list operation.</p>
              <p>This information is optional.</p>
              <p>(18th Oct. by Tizen Store Dev. - deprecated parameter)</p>
              </td>
          </tr>
          <tr>
              <td>
              <p><code>_mnc</code></p>
              <p>(deprecated)</p>
              </td>
              <td>Mobile network code (MNC)</td>
              <td>
              <p>Mobile network code, such as 01.</p>
              <p>MNCs can only be used in developer mode.</p>
              <p>This information is optional.</p>
              <p>(18th Oct. by Tizen Store Dev. - deprecated parameter)</p>
              </td>
          </tr>
      </tbody>
  </table>
  </li>
  <li>
    <p><strong>Example code for Purchase</strong></p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>app_control_h app_control;
int rt = app_control_create(&amp;app_control);
  
if (rt == APP_CONTROL_ERROR_NONE) {
    app_control_set_app_id(app_control, " org.tizen.inapppurchase.iapclient");
    app_control_set_operation(app_control, "http://tizen.org/appcontrol/operation/iapv2/purchase");
    app_control_add_extra_data(app_control, "_mode", "0");
    app_control_add_extra_data(app_control, "_itemId", "000000000001");
    app_control_add_extra_data(app_control, "_itemGroupId", "100000000012");
    app_control_add_extra_data(app_control, "_languageCd", "ENG"); /* Optional */
    app_control_add_extra_data(app_control, "_itemName", "Item 1"); /* Optional */
  
    rt = app_control_send_launch_request(app_control, get_purchase_cb, NULL);
}
  
if (app_control != NULL)
    app_control_destroy(app_control);
</code></pre></div>    </div>
  </li>
  <li>
    <p><strong>Output Data</strong></p>

    <p>The results of the operation are returned in the app control callback.</p>

    <p>This data can be used to verify the payment with Tizen Store IAP Server.</p>

    <p>The following table shows the output data for the <code class="highlighter-rouge">http://tizen.org/appcontrol/operation/iapv2/purchase</code> operation during process of purchase.</p>

    <p><strong>Table: Output data for launching the purchase application</strong></p>

    <table>
      <thead>
          <tr>
              <th>Key</th>
              <th>Value</th>
              <th>Description</th>
          </tr>
      </thead>
      <tbody>
          <tr>
              <td><code>_method</code></td>
              <td><code>OnPurchaseItemReceived</code></td>
              <td>Method to be called as a purchase request result.</td>
          </tr>
          <tr>
              <td><code>_result</code></td>
              <td>Result code</td>
              <td><a href="#result_code_2">Result codes are described at the end of this section.</a></td>
          </tr>
          <tr>
              <td><code>_resultDescription</code></td>
              <td>Result code/Function ID or HTML tags</td>
              <td><p>Display the <code>_resultDescription</code> value as a pop-up using Web-Control when you receive a <code>_result</code> value of 5600.</p>
                  <p><a href="#result_code_2">Result codes are described at the end of this section.</a></p>
              </td>
          </tr>
          <tr>
              <td><code>_itemId</code></td>
              <td>Item ID</td>
              <td>This is the same number as an item ID that is used in the request.</td>
          </tr>
          <tr>
              <td><code>_itemGroupId</code></td>
              <td>Item group ID</td>
              <td>ID of a collection of items. The collection is linked to your application in Tizen Store Seller Office.</td>
          </tr>
          <tr>
              <td><code>_itemName</code></td>
              <td>Item name</td>
              <td>Name provided during item registration in Tizen Store Seller Office.</td>
          </tr>
          <tr>
              <td><code>_ticketPurchaseId</code></td>
              <td>Purchased ticket ID</td>
              <td>This ID can be used to verify the purchase with Tizen Store IAP Server.</td>
          </tr>
          <tr>
              <td><code>_currencyUnit</code></td>
              <td>Currency unit</td>
              <td>Device user's currency unit, such as $, Won, or Pound.</td>
          </tr>
          <tr>
              <td><code>_unitPrecedes</code></td>
              <td>0 or 1</td>
              <td><p>Currency unit position:</p>
                  <ul>
                      <li>0: Tail (2.99 TL)</li>
                      <li>1: Front ($ 2.99)</li>
                  </ul>
              </td>
          </tr>
          <tr>
              <td><code>_hasPenny</code></td>
              <td>0 or 1</td>
              <td><p>Information whether the currency unit has penny representation:</p>
                  <ul>
                      <li>0: No</li>
                      <li>1: Yes</li>
                  </ul>
              </td>
          </tr>
          <tr>
              <td><code>_itemPrice</code></td>
              <td>Item price</td>
              <td>Price of the item in the local currency.</td>
          </tr>
          <tr>
              <td><code>_itemDownloadUrl</code></td>
              <td>Item download URL</td>
              <td>URL provided during item registration in Tizen Store Seller Office.</td>
          </tr>
          <tr>
              <td><code>_itemImageUrl</code></td>
              <td>Item image URL</td>
              <td>URL provided during item registration in Tizen Store Seller Office.</td>
          </tr>
          <tr>
              <td><code>_itemDescription</code></td>
              <td>Item description</td>
              <td>A description provided during item registration.</td>
          </tr>
          <tr>
              <td><code>_reserved1</code></td>
              <td>Reserved field 1</td>
              <td>Reserved field 1</td>
          </tr>
          <tr>
              <td><code>_reserved2</code></td>
              <td>Reserved field 2</td>
              <td>Reserved field 2</td>
          </tr>
          <tr>
              <td><code>_paymentId</code></td>
              <td>Payment ID</td>
              <td>Payment ID</td>
          </tr>
          <tr>
              <td><code>_ticketVerifyUrl</code></td>
              <td>Server URL</td>
              <td><p>Server URL, such as <code>http://tizen.org/appcontrol/operation/iap/purchase</code>.</p>
                  <p>This URL can be used in combination with other parameters to verify the purchase with Tizen Store IAP Server.</p>
              </td>
          </tr>
          <tr>
              <td><code>_ticketPurchaseId</code></td>
              <td>Purchased ticket ID</td>
              <td>This ID can be used to verify the purchase with Tizen Store IAP Server.</td>
          </tr>
          <tr>
              <td><code>_ticketParam1</code></td>
              <td>Ticket parameter 1</td>
              <td>This parameter is used with the server URL.</td>
          </tr>
          <tr>
              <td><code>_ticketParam2</code></td>
              <td>Ticket parameter 2</td>
              <td>This parameter is used with the server URL.</td>
          </tr>
          <tr>
              <td><code>_ticketParam3</code></td>
              <td>Ticket parameter 3</td>
              <td>This parameter is used with the server URL.</td>
          </tr>
          <tr>
              <td><code>_ticketParam4</code></td>
              <td>Ticket parameter 4</td>
              <td>This parameter is used with the server URL.</td>
          </tr>
          <tr>
              <td><code>_ticketParam5</code></td>
              <td>Ticket parameter 5</td>
              <td>This parameter is used with the server URL.</td>
          </tr>
          <tr>
              <td><code>_purchaseDate</code></td>
              <td>Date of purchase</td>
              <td>Date of purchase</td>
          </tr>
          <tr>
              <td><code>_timeStamp</code></td>
              <td>Time stamp</td>
              <td><p>Based on GMT +0, server time.</p>
              <p>(yyyyMMddHHmmss)</p>
              </td>
          </tr>
      </tbody>
  </table>
  </li>
  <li>
    <p><strong>Example code for Purchase result</strong></p>
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>void
get_purchase_cb(app_control_h request, app_control_h reply, app_control_result_e result, void *user_data)
{
    char* rt_method = NULL;
    char* rt_result = NULL;
    char* rt_resultDescription = NULL;
    char* rt_transactionId = NULL;
    char* rt_itemId = NULL;
    char* rt_itemGroupId = NULL;
    char* rt_itemName = NULL;
    char* rt_currencyUnit = NULL;
    char* rt_unitPrecedes = NULL;
    char* rt_hasPenny = NULL;
    char* rt_itemPrice = NULL;
    char* rt_itemDownloadUrl = NULL;
    char* rt_itemImageUrl = NULL;
    char* rt_itemDescription = NULL;
    char* rt_reserved1 = NULL;
    char* rt_reserved2 = NULL;
    char* rt_paymentId = NULL;
    char* rt_ticketVerifyUrl = NULL;
    char* rt_ticketPurchaseId = NULL;
    char* rt_ticketParam1 = NULL;
    char* rt_ticketParam2 = NULL;
    char* rt_ticketParam3 = NULL;
    char* rt_ticketParam4 = NULL;
    char* rt_ticketParam5 = NULL;
    char* rt_purchaseDate = NULL;
    char* rt_itemTypeCd = NULL;
    char* rt_itemSubsBillDurationCd = NULL;
    char* rt_subscriptionDurationMultiplier = NULL;
    char* rt_timeStamp = NULL;

    if (result == APP_CONTROL_RESULT_SUCCEEDED) {
        rt = app_control_get_extra_data(reply, "_method", &amp;rt_method);
        rt = app_control_get_extra_data(reply, "_result", &amp;rt_result);

        /* Success */
        if (!strcmp("0", rt_result)) {
            rt = app_control_get_extra_data(reply, "_resultDescription", &amp;rt_resultDescription);
            rt = app_control_get_extra_data(reply, "_transactionId", &amp;rt_transactionId);
            rt = app_control_get_extra_data(reply, "_itemId", &amp;rt_itemId);
            rt = app_control_get_extra_data(reply, "_itemGroupId", &amp;rt_itemGroupId);
            rt = app_control_get_extra_data(reply, "_itemName", &amp;rt_itemName);
            rt = app_control_get_extra_data(reply, "_currencyUnit", &amp;rt_currencyUnit);
            rt = app_control_get_extra_data(reply, "_unitPrecedes", &amp;rt_unitPrecedes);
            rt = app_control_get_extra_data(reply, "_itemPrice", &amp;rt_itemPrice);
            rt = app_control_get_extra_data(reply, "_itemDownloadUrl", &amp;rt_itemDownloadUrl);
            rt = app_control_get_extra_data(reply, "_itemImageUrl", &amp;rt_itemImageUrl);
            rt = app_control_get_extra_data(reply, "_itemDescription", &amp;rt_itemDescription);
            rt = app_control_get_extra_data(reply, "_reserved1", &amp;amp;rt_reserved1);
            rt = app_control_get_extra_data(reply, "_reserved2", &amp;rt_reserved2);
            rt = app_control_get_extra_data(reply, "_paymentId", &amp;rt_paymentId);
            rt = app_control_get_extra_data(reply, "_ticketVerifyUrl", &amp;rt_ticketVerifyUrl);
            rt = app_control_get_extra_data(reply, "_ticketPurchaseId", &amp;rt_ticketPurchaseId);
            rt = app_control_get_extra_data(reply, "_ticketParam1", &amp;rt_ticketParam1);
            rt = app_control_get_extra_data(reply, "_ticketParam2", &amp;rt_ticketParam2);
            rt = app_control_get_extra_data(reply, "_ticketParam3", &amp;rt_ticketParam3);
            rt = app_control_get_extra_data(reply, "_ticketParam4", &amp;rt_ticketParam4);
            rt = app_control_get_extra_data(reply, "_ticketParam5", &amp;rt_ticketParam5);
            rt = app_control_get_extra_data(reply, "_purchaseDate", &amp;rt_purchaseDate);
            rt = app_control_get_extra_data(reply, "_itemTypeCd", &amp;rt_itemTypeCd);
            rt = app_control_get_extra_data(reply, "_itemSubsBillDurationCd", &amp;rt_itemSubsBillDurationCd);
            rt = app_control_get_extra_data(reply, "_subscriptionDurationMultiplier", &amp;rt_subscriptionDurationMultiplier);
            rt = app_control_get_extra_data(reply, "_timeStamp", &amp;rt_timeStamp);
        }
    }
}
</code></pre></div>    </div>
  </li>
</ul>

<p><a name="result_code_2"></a></p>
<ul>
  <li>
    <p><strong>Result code values</strong></p>

    <p>The following table lists the possible values of the <code class="highlighter-rouge">_result</code> key for the <code class="highlighter-rouge">org.tizen.inapppurchase.iapclient</code> application ID.</p>

    <p><strong>Table: Result code values</strong></p>

    <table>
      <thead>
        <tr>
          <th>Value</th>
          <th>String Representation</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>0</td>
          <td><code class="highlighter-rouge">Succeed</code></td>
          <td>The status code for success.</td>
        </tr>
        <tr>
          <td>100</td>
          <td><code class="highlighter-rouge">Cancel</code></td>
          <td>The status code if the user cancels.</td>
        </tr>
        <tr>
          <td>200</td>
          <td><code class="highlighter-rouge">NetworkError</code></td>
          <td>The status code for network errors.</td>
        </tr>
        <tr>
          <td>1000</td>
          <td><code class="highlighter-rouge">ProcessError</code></td>
          <td>The status code for process errors.</td>
        </tr>
        <tr>
          <td>5600</td>
          <td><code class="highlighter-rouge">PGError</code></td>
          <td>The status code for the payment gateway error. Display the pop-up by using web-control.</td>
        </tr>
        <tr>
          <td>9201</td>
          <td><code class="highlighter-rouge">ItemGroupIdNotFound</code></td>
          <td>The status code if the item group ID is not found.</td>
        </tr>
        <tr>
          <td>9207</td>
          <td><code class="highlighter-rouge">ItemIdNotFound</code></td>
          <td>The status code if the item ID is not found.</td>
        </tr>
        <tr>
          <td>9502</td>
          <td><code class="highlighter-rouge">InvalidRequestParameter</code></td>
          <td>The status code if the request parameter is invalid.</td>
        </tr>
        <tr>
          <td>9291</td>
          <td><code class="highlighter-rouge">RepurchaseError</code></td>
          <td>The status code for the repurchase error. This error occurs only on consumable items.</td>
        </tr>
        <tr>
          <td>9292</td>
          <td><code class="highlighter-rouge">Update is progressing</code></td>
          <td>The status code if the application is updating.</td>
        </tr>
        <tr>
          <td>9293</td>
          <td><code class="highlighter-rouge">Account validation is not Completed</code></td>
          <td>The status code if the Samsung account validation is not completed.</td>
        </tr>
      </tbody>
    </table>
  </li>
</ul>

<h2 id="4-verifying-with-tizen-store-iap-server">4. Verifying with Tizen Store IAP Server</h2>

<p>After the purchase operation, <code class="highlighter-rouge">http://tizen.org/appcontrol/operation/iapv2/purchase</code>, you can use the values in the output data to verify a purchase on the Tizen Store IAP Server in a simple process. You can send a query to the output dataâ€™s <code class="highlighter-rouge">_ticketVerifyUrl</code> address. The query can be made with a combination of the output dataâ€™s <code class="highlighter-rouge">_ticketPurchaseId</code>, <code class="highlighter-rouge">_ticketParam1</code>, <code class="highlighter-rouge">_ticketParam2</code>, <code class="highlighter-rouge">ticketParam3</code>, <code class="highlighter-rouge">_ticketParam4</code>, and <code class="highlighter-rouge">_ticketParam5</code> parameters.</p>

<p>The following example shows the syntax. In the above syntax, <code class="highlighter-rouge">(_parameterName)</code> indicates the value of the parameter.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(_ticketVerifyUrl)?purchaseID=(_ticketPurchaseId)&amp;param1=(_ticketParam1)&amp;param2=(_ticketParam2)&amp;param3=(_ticketParam3)&amp;param4=(_ticketParam4)&amp;param5=(_ticketParam5)
</code></pre></div></div>

<p>The following code shows an example request:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http://iap.tizenstore.com/appsItemVerifyIAPReceipt.as?purchaseID=2bf8fe4fdef1dae29974e5400c106bfced6a650793efa3ce68a79e026481193d&amp;param1=abe87f635bf41aae0178b5384cbc09c1083026e93e44bd0efd69e66a9cc2ace6&amp;param2=d49e3385783366868999e17bae3410597c0b6bcf69a92cd74cab17454cf9d4d6&amp;param3=af8050beb9c0f63c773fb86f7218bb6cbd6cf78a5cdff281c2e22a229f9a1485&amp;param4=1&amp;param5=I20131115RU00001243
</code></pre></div></div>

<p>If a request is processed successfully, the JSON response is received as shown. The status value of <code class="highlighter-rouge">true</code> means a verifying the purchase is successful and <code class="highlighter-rouge">false</code> when it has failed.</p>

<p>If your application uses a server-client model, the following server-to-server purchase verification is recommended.</p>

<p>The JSON example of successful result:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
    "paymentID":"TPMTID20131115RU00001243",
    "paymentAmount":"105.02",
    "itemName":"ttttttt","itemID":"000000000072",
    "status":"true",
    "purchaseDate":"2013-11-15 10:31:23",
    "itemDesc":"dkfldfldkfl",
    "paymentMethod":"Tizen RBS Russia CreditCard",
    "mode":"1"
}
</code></pre></div></div>

<p>The following code shows a JSON example of a failed result:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{"status":"false"}
</code></pre></div></div>

<h2 id="appendixes">Appendixes</h2>

<h3 id="1-sample-native-application">1. Sample Native Application</h3>

<p>The sample native application allows a user to show a list of items for purchase, purchase an item, show purchased items, and make a purchase.</p>

<p>In developer mode, the top of the screen, it is possible to scroll up and down direction.</p>

<p><a href="media/native_sample_application_source_code_20151222.zip">Download the sample native application.</a></p>

<h3 id="2-sample-web-application">2. Sample Web Application</h3>

<p>The sample Web application allows a user to show a list of items for purchase, purchase an item, show purchased items, and make a purchase.</p>

<p><a href="media/web_sample_application_source_code_20150113.zip">Download the sample Web application.</a></p>

						</section>
					</main>
					<nav class="col-nav">
						<div id="sidebar-nav" class="sidebar hidden-sm hidden-xs">
						    


<div id="navbar" class="nav-sidebar">
    <ul class="nav" id="jsTOCLeftNav">
        
        
        
        
    
        <li>
            <a 
                href="tizenstudio/setup/overview/" 
                data-target="#item1" 
                data-toggle="collapse" 
                data-parent="#stacked-menu"
                aria-expanded=" false "
                class=" collapsed "
                >
                    Tizen Studio
                    <span class="caret arrow"></span>
            </a>
            

            
            <ul class="nav collapse" aria-expanded="false" id="#item1">
            

                
                <li>
                    
                    
                    <a 
                        href="tizenstudio/setup/install-sdk/"
                        class=""
                        aria-expanded=" false "
                        data-target="#item1" 
                        data-toggle="collapse" 
                        >
                        Setup
                        <span class="caret arrow"></span>
                    </a>
                    
                    
                    <ul class="nav collapse" aria-expanded="false" id="#item1">
                    
                        
                        <li>
                            
                            <a 
                                href="tizenstudio/setup/windows/"
                                class=""
                                >
                                Install on Windows
                            </a>
                        </li>
                        
                        <li>
                            
                            <a 
                                href="tizenstudio/setup/ubuntu/"
                                class=""
                                >
                                Install on Ubuntu
                            </a>
                        </li>
                        
                        <li>
                            
                            <a 
                                href="tizenstudio/setup/mac/"
                                class=""
                                >
                                Install on Mac
                            </a>
                        </li>
                        
                        <li>
                            
                            <a 
                                href="tizenstudio/setup/tizen-cli/"
                                class=""
                                >
                                Install using CLI
                            </a>
                        </li>
                        
                    </ul>
                    
                </li>
                
            </ul>
            
        </li>
    
        
        
        
    
        <li>
            <a 
                href="tizenstudio/setup/update-sdk/" 
                data-target="#item2" 
                data-toggle="collapse" 
                data-parent="#stacked-menu"
                aria-expanded=" false "
                class=" collapsed "
                >
                    Update
                    <span class="caret arrow"></span>
            </a>
            
        </li>
    
        
        
        
    
        <li>
            <a 
                href="tizenstudio/setup/uninstall-sdk/" 
                data-target="#item3" 
                data-toggle="collapse" 
                data-parent="#stacked-menu"
                aria-expanded=" false "
                class=" collapsed "
                >
                    Uninstall
                    <span class="caret arrow"></span>
            </a>
            
        </li>
    
        
        
        
    
        <li>
            <a 
                href="tizenstudio/setup/troubleshooting/" 
                data-target="#item4" 
                data-toggle="collapse" 
                data-parent="#stacked-menu"
                aria-expanded=" false "
                class=" collapsed "
                >
                    Troubleshoot
                    <span class="caret arrow"></span>
            </a>
            
        </li>
    
        
        
    </ul>
</div>
<script>
    $("a[href$='/tizenstudio/extension-sdk/in-app-purchase/']").addClass("active currentPage");
</script>
						</div>
					</nav>
					<div class="col-toc">
						<div class="sidebar hidden-xs hidden-sm">
							<div class="toc-nav">
								<div class="feedback-links">
									<ul>
										
                                        <li style="visibility: hidden">
                                            <a href="">
                                                <i class="fa fa-pencil-square-o" aria-hidden="true"></i> 
                                                Edit this page
                                            </a>
                                        </li>
                                        
										<li>
                                            <a href="https://github.com/samsung-test/samsung-test.github.io/edit/1.1/tizenstudio/extension-sdk/in-app-purchase.md" target="_blank">
                                                <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
                                                Edit Page
                                            </a>
                                        </li>
                                        <li>
                                            <a href="https://github.com/samsung-test/samsung-test.github.io/issues/new" class="nomunge" target="_blank">
                                                <i class="fa fa-exclamation-circle" aria-hidden="true"></i>
                                                Report Issue
                                            </a>
                                        </li>
									</ul>
								</div>
								   
									<div id="side-toc-title">On this page:</div>
									
<ul id="my_toc" class="inline_toc">
  <li><a href="#what-is-the-in-app-purchase-appcontrol-mechanism" class="nomunge">What is the In-App Purchase AppControl Mechanism?</a></li>
  <li><a href="#supported-item-types" class="nomunge">Supported Item Types</a></li>
  <li><a href="#terms-and-abbreviations" class="nomunge">Terms and Abbreviations</a></li>
  <li><a href="#applying-iap-to-your-application" class="nomunge">Applying IAP to Your Application</a></li>
  <li><a href="#1-registering-your-items-to-tizen-store-seller-office" class="nomunge">1. Registering Your Items to Tizen Store Seller Office</a>
    <ul>
      <li><a href="#11-connect-to-tizen-store-seller-office" class="nomunge">1.1. Connect to Tizen Store Seller Office</a></li>
      <li><a href="#12-register-a-new-item-group" class="nomunge">1.2. Register a New Item Group</a></li>
      <li><a href="#13-add-a-new-item-temporary-status" class="nomunge">1.3. Add a New Item (Temporary Status)</a></li>
    </ul>
  </li>
  <li><a href="#2-setting-your-application-project-up-to-use-iap" class="nomunge">2. Setting Your Application Project up to Use IAP</a></li>
  <li><a href="#3-programming-your-application-to-work-with-iap" class="nomunge">3. Programming Your Application to Work with IAP</a>
    <ul>
      <li><a href="#purchasing-items" class="nomunge">Purchasing Items</a></li>
      <li><a href="#getting-a-list-of-countries" class="nomunge">Getting a List of Countries</a></li>
      <li><a href="#31-adding-permissions-to-the-configuration-file" class="nomunge">3.1. Adding Permissions to the Configuration File</a></li>
      <li><a href="#32-iap-service-control-get-item-list-purchased-item-list-country-list" class="nomunge">3.2. IAP Service Control (Get Item List, Purchased Item List, Country List)</a></li>
      <li><a href="#33-iap-client-control-purchase-of-item" class="nomunge">3.3. IAP Client Control (Purchase of Item)</a></li>
    </ul>
  </li>
  <li><a href="#4-verifying-with-tizen-store-iap-server" class="nomunge">4. Verifying with Tizen Store IAP Server</a></li>
  <li><a href="#appendixes" class="nomunge">Appendixes</a>
    <ul>
      <li><a href="#1-sample-native-application" class="nomunge">1. Sample Native Application</a></li>
      <li><a href="#2-sample-web-application" class="nomunge">2. Sample Web Application</a></li>
    </ul>
  </li>
</ul>


								</div>
								
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
    <div class="container-fluid">
  <div class="top_footer">
    <div class="footer-nav">
      <nav class="footer_sub_nav">
        <ul class="menu">
          <li><a href="https://developer.tizen.org/">Developer</a></li>
          <li><a href="https://dashboard.tizen.org/">Dashboard</a></li>
          <li><a href="https://craftroom.tizen.org/">Craftroom</a></li>
        </ul>
      </nav>
    </div>
  </div>
  <div class="bottom_footer">
    <div class="footer-copyright col-xs-12 col-md-8">
      <p class="copyright">
        Copyright &copy; 2019 Tizen Inc. All rights reserved.
      </p>
    </div>
    <div class="footer_social_nav">
      <ul class="nav-social">
        <li class="fa fa-github"><a href="https://github.com/samsung-test">GitHub</a></li>  
        <li class="fa fa-twitter"><a href="https://twitter.com/TizenProject">Twitter</a></li>
        <li class="fa fa-facebook"><a href="http://www.facebook.com/pages/Tizen-Project">Facebook</a></li>
      </ul>
    </div>
  </div>
</div>

    <div id="templates"></div>
    <script type="text/javascript" src="/js/jquery-3.2.1.min.js"></script>
<script type="text/javascript" src="/js/bootstrap.min.js"></script>
<script type="text/javascript" src="/js/common.js?v=08122019"></script>
<script type="text/javascript" src="/js/handlebars-v4.0.11.js?v=08122019"></script>
<script type="text/javascript" src="/js/widgets-data.js?v=08122019"></script>
<script type="text/javascript" src="/js/widgets.js?v=08122019"></script>
<script type="text/javascript" src="/js/highlight.pack.js"></script>
<script type="text/javascript" src="/js/tocs.js"></script>
<script type="text/javascript" src="/js/menu.js"></script>
<script type="text/javascript" src="/js/stickyfill.min.js"></script>
<script type="text/javascript" src="/js/metadata.js"></script>
<script type="text/javascript" src="/js/docs.js"></script>
</body>
</html>
